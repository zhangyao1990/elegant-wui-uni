var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,u=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,i=(e,a)=>{for(var t in a||(a={}))o.call(a,t)&&u(e,t,a[t]);if(l)for(var t of l(a))s.call(a,t)&&u(e,t,a[t]);return e},c=(e,l)=>a(e,t(l)),n=(e,a,t)=>new Promise(((l,o)=>{var s=e=>{try{i(t.next(e))}catch(a){o(a)}},u=e=>{try{i(t.throw(e))}catch(a){o(a)}},i=e=>e.done?l(e.value):Promise.resolve(e.value).then(s,u);i((t=t.apply(e,a)).next())}));import{k as d,m as r,l as m,c as v,q as p,n as f,o as b,b as _,j as h,p as g,r as w,a as y,f as x,s as k,g as C,i as V,_ as j}from"./page-wraper.XTDu10FG.js";import{d as T,r as I,G as O,H as z,z as L,I as $,c as P,v as U,J as H,a as Q,g as F,w as S,h as A,x as G,i as X,B as Y,K as q,A as B,s as D,L as E,n as J,u as K,F as M,e as R,f as W,k as N}from"./index-7V_Oz7o2.js";import{_ as Z,a as ee}from"./wui-radio-group.CRN8j-Eh.js";import{_ as ae}from"./demo-block.Dak0lv3M.js";import{_ as te}from"./wui-button.CpEmAov2.js";import{r as le,p as oe,c as se}from"./clickoutside.CJmLG0WC.js";import{u as ue}from"./useRaf.BhtPN-47.js";import"./useChildren.CE-WdV6D.js";const ie=c(i({},v),{active:d(!1),type:m("primary"),position:m("right-bottom"),direction:m("top"),disabled:d(!1),inactiveIcon:m("add"),activeIcon:m("close"),zIndex:r(99),draggable:d(!1),gap:{type:Object,default:()=>({})},expandable:d(!0)}),ce=y(T(c(i({},{name:"wui-fab",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:ie,emits:["update:active","click"],setup(e,{expose:a,emit:t}){const l=e,o=t,s=I(!1),u=I(!1),i=O(p,null),{proxy:c}=z();L((()=>l.active),(e=>{u.value=e}),{immediate:!0,deep:!0}),L((()=>u.value),(e=>{e&&(i&&i.closeOther?i.closeOther(c):se(c))}));const d=I(l.direction);L((()=>l.direction),(e=>d.value=e)),L((()=>l.position),(()=>k()));const r=I(0),m=I(0),v=$({width:0,height:0}),y=$({width:56,height:56}),x=$({minTop:0,minLeft:0,maxTop:0,maxLeft:0});function k(){const e=l.position,{minLeft:a,minTop:t,maxLeft:o,maxTop:s}=x,u=(s+t)/2,i=(o+a)/2;switch(e){case"left-top":r.value=t,m.value=a;break;case"right-top":r.value=t,m.value=o;break;case"left-bottom":r.value=s,m.value=a;break;case"right-bottom":r.value=s,m.value=o;break;case"left-center":r.value=u,m.value=a;break;case"right-center":r.value=u,m.value=o;break;case"top-center":r.value=t,m.value=i;break;case"bottom-center":r.value=s,m.value=i}}const C=$({x:0,y:0}),V=I(!1);function j(e){if(!1===l.draggable)return;const a=e.touches[0];C.x=a.clientX-m.value,C.y=a.clientY-r.value,V.value=!1}function T(e){if(!1===l.draggable)return;const a=e.touches[0],{minLeft:t,minTop:o,maxLeft:s,maxTop:u}=x;let i=a.clientX-C.x,c=a.clientY-C.y;i<t?i=t:i>s&&(i=s),c<o?c=o:c>u&&(c=u),r.value=c,m.value=i}function J(){if(!1===l.draggable)return;const e=v.width/2,a=m.value+y.width/2;V.value=!0,a<e?(m.value=x.minLeft,d.value="right"):(m.value=x.maxLeft,d.value="left")}const K=P((()=>{const e={top:r.value+"px",left:m.value+"px",transition:V.value?"all ease 0.3s":"none"};return f(l.zIndex)&&(e["z-index"]=l.zIndex),`${b(e)};${l.customStyle}`}));function M(){l.disabled||(l.expandable?(u.value=!u.value,o("update:active",u.value)):o("click"))}return U((()=>{i&&i.pushToQueue?i.pushToQueue(c):oe(c);const{start:e}=ue((()=>n(this,null,(function*(){yield function(){return n(this,null,(function*(){const e=E();try{const e=yield g("#trigger",!1,c);y.width=e.width||56,y.height=e.height||56}catch(u){console.log(u)}const{top:a=16,left:t=16,right:o=16,bottom:s=16}=l.gap;v.width=e.windowWidth,v.height=w?e.windowTop+e.windowHeight:e.windowHeight,x.minTop=w?e.windowTop+a:a,x.minLeft=t,x.maxLeft=v.width-y.width-o,x.maxTop=v.height-y.height-s}))}(),k(),s.value=!0}))));e()})),H((()=>{i&&i.removeFromQueue?i.removeFromQueue(c):le(c)})),a({open:function(){u.value=!0,o("update:active",!0)},close:function(){u.value=!1,o("update:active",!1)}}),(e,a)=>{const t=X;return F(),Q(t,{onTouchmove:q(T,["stop","prevent"]),onTouchstart:j,onTouchend:J,class:D(`wui-fab ${e.customClass}`),style:Y(K.value),onClick:a[1]||(a[1]=q((()=>{}),["stop"]))},{default:S((()=>[A(t,{onClick:a[0]||(a[0]=q((()=>{}),["stop"])),style:Y({visibility:s.value?"visible":"hidden"}),id:"trigger"},{default:S((()=>[e.$slots.trigger?B(e.$slots,"trigger",{key:0},void 0,!0):(F(),Q(te,{key:1,onClick:M,"custom-class":"wui-fab__trigger",round:"",type:e.type,disabled:e.disabled},{default:S((()=>[A(_,{"custom-class":"wui-fab__icon",name:u.value?e.activeIcon:e.inactiveIcon},null,8,["name"])])),_:1},8,["type","disabled"]))])),_:3},8,["style"]),e.expandable?(F(),Q(h,{key:0,"enter-class":`wui-fab__transition-enter--${d.value}`,"enter-active-class":"wui-fab__transition-enter-active","leave-to-class":`wui-fab__transition-leave-to--${d.value}`,"leave-active-class":"wui-fab__transition-leave-active","custom-class":`wui-fab__actions wui-fab__actions--${d.value}`,show:u.value,duration:300},{default:S((()=>[B(e.$slots,"default",{},void 0,!0)])),_:3},8,["enter-class","leave-to-class","custom-class","show"])):G("",!0)])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-fa25e8b0"]]),ne=y(T({__name:"Index",setup(e){const{show:a}=x(),t=I(!1),l=I("primary"),o=I("left-bottom"),s=I("top"),u=I(!1),i=I(!1),c=I(!1),{closeOutside:n}=k();function d(){a("分享给朋友")}return(e,r)=>{const m=R(W("wui-toast"),C),v=R(W("wui-radio"),Z),p=R(W("wui-radio-group"),ee),f=R(W("demo-block"),ae),b=R(W("wui-switch"),V),h=X,g=R(W("wui-button"),te),w=R(W("wui-icon"),_),y=R(W("wui-fab"),ce),x=R(W("page-wraper"),j);return F(),J(M,null,[A(m),A(h,{class:"fab",onClick:K(n)},{default:S((()=>[A(x,null,{default:S((()=>[A(f,{title:"悬浮按钮主题色"},{default:S((()=>[A(p,{modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=e=>l.value=e),inline:"",shape:"dot"},{default:S((()=>[A(v,{value:"primary","custom-class":"custom-radio"},{default:S((()=>[N("主要按钮")])),_:1}),A(v,{value:"success","custom-class":"custom-radio"},{default:S((()=>[N("成功按钮")])),_:1}),A(v,{value:"warning","custom-class":"custom-radio"},{default:S((()=>[N("警告按钮")])),_:1}),A(v,{value:"error","custom-class":"custom-radio"},{default:S((()=>[N("危险按钮")])),_:1}),A(v,{value:"info","custom-class":"custom-radio"},{default:S((()=>[N("信息按钮")])),_:1})])),_:1},8,["modelValue"])])),_:1}),A(f,{title:"悬浮按钮位置"},{default:S((()=>[A(p,{modelValue:o.value,"onUpdate:modelValue":r[1]||(r[1]=e=>o.value=e),inline:"",shape:"dot"},{default:S((()=>[A(v,{value:"left-top","custom-class":"custom-radio"},{default:S((()=>[N("左上")])),_:1}),A(v,{value:"right-top","custom-class":"custom-radio"},{default:S((()=>[N("右上")])),_:1}),A(v,{value:"left-center","custom-class":"custom-radio"},{default:S((()=>[N("左中")])),_:1}),A(v,{value:"right-center","custom-class":"custom-radio"},{default:S((()=>[N("右中")])),_:1}),A(v,{value:"top-center","custom-class":"custom-radio"},{default:S((()=>[N("上中")])),_:1}),A(v,{value:"bottom-center","custom-class":"custom-radio"},{default:S((()=>[N("下中")])),_:1}),A(v,{value:"left-bottom","custom-class":"custom-radio"},{default:S((()=>[N("左下")])),_:1}),A(v,{value:"right-bottom","custom-class":"custom-radio"},{default:S((()=>[N("右下")])),_:1})])),_:1},8,["modelValue"])])),_:1}),A(f,{title:"菜单弹出方向"},{default:S((()=>[A(p,{modelValue:s.value,"onUpdate:modelValue":r[2]||(r[2]=e=>s.value=e),inline:"",shape:"dot"},{default:S((()=>[A(v,{value:"top","custom-class":"custom-radio"},{default:S((()=>[N("向上")])),_:1}),A(v,{value:"bottom","custom-class":"custom-radio"},{default:S((()=>[N("向下")])),_:1}),A(v,{value:"right","custom-class":"custom-radio"},{default:S((()=>[N("向右")])),_:1}),A(v,{value:"left","custom-class":"custom-radio"},{default:S((()=>[N("向左")])),_:1})])),_:1},8,["modelValue"])])),_:1}),A(f,{title:"禁用"},{default:S((()=>[A(h,{onClick:r[4]||(r[4]=q((()=>{}),["stop"]))},{default:S((()=>[A(b,{modelValue:u.value,"onUpdate:modelValue":r[3]||(r[3]=e=>u.value=e),size:"22px"},null,8,["modelValue"])])),_:1})])),_:1}),A(f,{title:"可拖动"},{default:S((()=>[A(h,{onClick:r[6]||(r[6]=q((()=>{}),["stop"]))},{default:S((()=>[A(b,{modelValue:i.value,"onUpdate:modelValue":r[5]||(r[5]=e=>i.value=e),size:"22px"},null,8,["modelValue"])])),_:1})])),_:1}),A(f,{title:"切换展示"},{default:S((()=>[A(h,{onClick:r[8]||(r[8]=q((()=>{}),["stop"]))},{default:S((()=>[A(g,{type:"primary",onClick:r[7]||(r[7]=e=>t.value=!t.value),round:""},{default:S((()=>[N("切换")])),_:1})])),_:1})])),_:1}),A(f,{title:"自定义触发器"},{default:S((()=>[A(h,{onClick:r[10]||(r[10]=q((()=>{}),["stop"]))},{default:S((()=>[A(b,{modelValue:c.value,"onUpdate:modelValue":r[9]||(r[9]=e=>c.value=e),size:"22px"},null,8,["modelValue"])])),_:1})])),_:1}),c.value?(F(),Q(y,{key:1,position:"left-bottom",draggable:i.value,expandable:!1},{trigger:S((()=>[A(g,{onClick:d,icon:"share",type:"error"},{default:S((()=>[N("分享给朋友")])),_:1})])),_:1},8,["draggable"])):(F(),Q(y,{key:0,active:t.value,"onUpdate:active":r[15]||(r[15]=e=>t.value=e),disabled:u.value,type:l.value,position:o.value,direction:s.value,draggable:i.value,onClick:r[16]||(r[16]=e=>K(a)("我被点了"))},{default:S((()=>[A(g,{onClick:r[11]||(r[11]=e=>K(a)("一键三连")),disabled:u.value,"custom-class":"custom-button",type:"primary",round:""},{default:S((()=>[A(w,{name:"github-filled",size:"22px"})])),_:1},8,["disabled"]),A(g,{onClick:r[12]||(r[12]=e=>K(a)("我要收藏")),disabled:u.value,"custom-class":"custom-button",type:"success",round:""},{default:S((()=>[A(w,{name:"star",size:"22px"})])),_:1},8,["disabled"]),A(g,{onClick:r[13]||(r[13]=e=>K(a)("我要投币")),disabled:u.value,"custom-class":"custom-button",type:"error",round:""},{default:S((()=>[A(w,{name:"money-circle",size:"22px"})])),_:1},8,["disabled"]),A(g,{onClick:r[14]||(r[14]=e=>K(a)("我要点赞")),disabled:u.value,"custom-class":"custom-button",type:"warning",round:""},{default:S((()=>[A(w,{name:"thumb-up",size:"22px"})])),_:1},8,["disabled"])])),_:1},8,["active","disabled","type","position","direction","draggable"]))])),_:1})])),_:1},8,["onClick"])],64)}}}),[["__scopeId","data-v-b4e0fde1"]]);export{ne as default};
