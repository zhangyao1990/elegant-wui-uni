var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,r=(a,l,s)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[l]=s,i=(e,a)=>{for(var l in a||(a={}))t.call(a,l)&&r(e,l,a[l]);if(s)for(var l of s(a))u.call(a,l)&&r(e,l,a[l]);return e},o=(e,s)=>a(e,l(s));import{d as n,r as c,v as p,L as d,z as f,a as y,x as v,g as _,w as g,h as m,au as w,n as b,F as h,p as x,av as k,j,i as O,B as I,D as P,k as B,t as C,s as z,K as E,e as G,f as N}from"./index-7V_Oz7o2.js";import{_ as A}from"./demo-block.Dak0lv3M.js";import{c as H,a as J,_ as S}from"./page-wraper.XTDu10FG.js";const D=o(i({},H),{urls:{type:Array,default:()=>[]},show:{type:Boolean,default:!1},current:{type:[Number,String],default:0},ellipsis:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:9999},safeArea:{type:Boolean,default:!0}}),F=J(n(o(i({},{name:"wui-gallery",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"}}),{props:D,emits:["change","hide"],setup(e,{emit:a}){const l=e,s=a,t=c(!1),u=c([]),r=c(0),i=c(0),o=c(20),n=c(""),G=c(!1);function N(e){e&&e.length>0&&("string"==typeof e[0]&&(e=e.map((e=>({src:e})))),u.value=e)}function A(e){let a=u.value[e];a&&(n.value=a.descr||"")}function H(e){r.value=e.detail.current,A(r.value),s("change",{index:r.value})}function J(){s("hide",{})}return p((()=>{let e=d();o.value=e.statusBarHeight+20,i.value=Number(l.current),r.value=i.value,N(l.urls),A(r.value)})),f((()=>l.urls),(e=>{N(e)})),f((()=>l.current),(e=>{i.value=r.value;let a=Number(e);setTimeout((()=>{i.value=a,r.value=a}),20)})),(e,a)=>{const l=j,s=k,c=w,p=P,d=O;return e.show||!t.value?(_(),y(d,{key:0,class:z(["wui-gallery__wrap",[e.show?"wui-gallery__show":"wui-gallery__hidden"]]),style:I({zIndex:e.zIndex}),onClick:E(J,["stop"])},{default:g((()=>[m(c,{class:"wui-gallery__img-wrap","indicator-dots":!1,onChange:H,current:i.value,autoplay:!1,duration:50},{default:g((()=>[(_(!0),b(h,null,x(u.value,((e,a)=>(_(),y(s,{class:"wui-gallery__swiper-item",key:a},{default:g((()=>[m(l,{mode:"aspectFit",class:"wui-gallery__img",src:e.src},null,8,["src"])])),_:2},1024)))),128))])),_:1},8,["current"]),m(d,{class:"wui-gallery__index-wrap",style:I({top:o.value+"px"})},{default:g((()=>[m(p,{class:"wui-gallery__index"},{default:g((()=>[B(C(r.value+1)+"/"+C(u.value.length),1)])),_:1})])),_:1},8,["style"]),n.value?(_(),y(d,{key:0,class:z(["wui-gallery__descr-wrap",{"wui-gallery__weex-safe":G.value&&e.safeArea}])},{default:g((()=>[n.value?(_(),y(p,{key:0,class:z(["wui-gallery__descr",{"wui-gallery__text-ellipsis":e.ellipsis}])},{default:g((()=>[B(C(n.value),1)])),_:1},8,["class"])):v("",!0)])),_:1},8,["class"])):v("",!0)])),_:1},8,["style","class"])):v("",!0)}}})),[["__scopeId","data-v-b268f5af"]]),K=J(n({__name:"Index",setup(e){const a=c(!1),l=c(["https://gips3.baidu.com/it/u=1821127123,1149655687&fm=3028&app=3028&f=JPEG&fmt=auto?w=720&h=1280","https://gips0.baidu.com/it/u=1490237218,4115737545&fm=3028&app=3028&f=JPEG&fmt=auto?w=1280&h=720","https://gips1.baidu.com/it/u=1647344915,1746921568&fm=3028&app=3028&f=JPEG&fmt=auto?w=720&h=1280"]),s=c(0);function t(){a.value=!1}return(e,u)=>{const r=j,i=O,o=G(N("demo-block"),A),n=G(N("wui-gallery"),F),c=G(N("page-wraper"),S);return _(),y(c,null,{default:g((()=>[m(o,{title:"基本用法"},{default:g((()=>[m(i,{class:"gallery-img-box"},{default:g((()=>[(_(!0),b(h,null,x(l.value,((e,l)=>(_(),y(r,{key:l,onClick:e=>function(e){s.value=e,a.value=!0}(l),class:"gallery-img",src:e},null,8,["onClick","src"])))),128))])),_:1})])),_:1}),m(n,{urls:l.value,show:a.value,current:s.value,onHide:t},null,8,["urls","show","current"])])),_:1})}}}),[["__scopeId","data-v-be8e013c"]]);export{K as default};
