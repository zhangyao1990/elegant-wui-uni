var t=Object.defineProperty,e=Object.defineProperties,a=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(e,a,o)=>a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[a]=o,n=(t,e)=>{for(var a in e||(e={}))i.call(e,a)&&s(t,a,e[a]);if(o)for(var a of o(e))l.call(e,a)&&s(t,a,e[a]);return t},u=(t,o)=>e(t,a(o));import{d as r,n as c,g as p,a as d,x as m,i as v,w as y,h,s as g,B as f,F as _,p as w,k as C,t as x,r as b,H as k,z as j,c as P,au as $,u as I,av as V,ag as M,j as S,D as U,A as O,ay as K,e as N,f as z}from"./index-CnRAlpd-.js";import{c as A,l as H,m as T,k as F,a as E,t as W,E as B,x as D,e as G,n as L,a5 as q,_ as J,ad as Q,i as R,h as X}from"./page-wraper.DMME2CXH.js";import{_ as Y}from"./demo-block.BWMqEgaZ.js";import{_ as Z}from"./wui-cell-group.Doe8cqfe.js";import{_ as tt}from"./wui-button.Bcr_H9ae.js";import"./useChildren.B4reFkwq.js";const et=E(r({__name:"wui-swiper-nav",props:u(n({},A),{current:T(0),direction:H("horizontal"),minShowNum:T(2),indicatorPosition:H("bottom"),showControls:F(!1),total:T(0),type:H("dots")}),emits:["change"],setup(t,{emit:e}){const a=e;function o(t){a("change",{dir:t,source:"nav"})}return(t,e)=>{const a=v;return p(),c(_,null,[t.showControls?(p(),d(a,{key:0,class:"wui-swiper-nav__btn"},{default:y((()=>[h(a,{class:"wui-swiper-nav__btn--prev",onClick:e[0]||(e[0]=t=>o("prev"))}),h(a,{class:"wui-swiper-nav__btn--next",onClick:e[1]||(e[1]=t=>o("next"))})])),_:1})):m("",!0),t.total>=t.minShowNum?(p(),d(a,{key:1,style:f(t.customStyle),class:g(`wui-swiper-nav wui-swiper-nav--${t.direction} wui-swiper-nav--${t.type} wui-swiper-nav--${t.indicatorPosition} ${t.customClass}`)},{default:y((()=>["dots"===t.type||"dots-bar"===t.type?(p(!0),c(_,{key:0},w(t.total,((e,o)=>(p(),d(a,{key:o,class:g(`wui-swiper-nav__item--${t.type} ${t.current===o?"is-active":""} is-${t.direction}`)},null,8,["class"])))),128)):m("",!0),"fraction"===t.type?(p(),c(_,{key:1},[C(x(t.current+1)+"/"+x(t.total),1)],64)):m("",!0)])),_:1},8,["style","class"])):m("",!0)],64)}}}),[["__scopeId","data-v-a0ad19dd"]]),at=u(n({},A),{autoplay:F(!0),current:T(0),direction:H("horizontal"),displayMultipleItems:T(1),duration:T(300),easingFunction:H("default"),height:W("192"),interval:T(5e3),list:{type:Array,default:()=>[]},loop:F(!0),videoLoop:F(!0),muted:F(!0),nextMargin:W("0"),indicatorPosition:H("bottom"),previousMargin:W("0"),snapToEdge:F(!1),indicator:{type:[Boolean,Object],default:!0},imageMode:H("aspectFill"),valueKey:H("value"),textKey:H("text"),autoplayVideo:F(!0),stopPreviousVideo:F(!0),stopAutoplayWhenVideoPlay:F(!1),adjustHeight:H("highest"),adjustVerticalHeight:F(!1),customIndicatorClass:H(""),customImageClass:H(""),customPrevImageClass:H(""),customNextImageClass:H(""),customItemClass:H(""),customPrevClass:H(""),customNextClass:H(""),customTextClass:H(""),customTextStyle:H("")}),ot=E(r(u(n({},{name:"wui-swiper",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"}}),{props:at,emits:["click","change","animationfinish","update:current"],setup(t,{emit:e}){const a=t,o=e,i=b(a.current),l=b(a.current),s=(t,e=!1)=>{l.value=t,e&&(i.value=t),o("update:current",t)},n=b(!1),{proxy:u}=k(),r=b(B());j((()=>a.current),(t=>{t<0?a.loop?T():H():t>=a.list.length?a.loop?H():T():A(t)}));const N=P((()=>{const{list:t,direction:e,indicatorPosition:o,indicator:i}=a,s={current:l.value||0,total:t.length||0,direction:e||"horizontal",indicatorPosition:o||"bottom"};return D(i)&&(s.type=i.type||"dots",s.minShowNum=i.minShowNum||2,s.showControls=i.showControls||!1),s})),z=t=>((t,e)=>{const o=t=>q(t);return D(t)?t.type&&["video","image"].includes(t.type)?t.type===e:o(t[a.valueKey]):o(t)})(t,"video");function A(t){t!==l.value&&s(t,!0)}function H(){A(0)}function T(){A(a.list.length-1)}function F(){a.stopAutoplayWhenVideoPlay&&(n.value=!0)}function E(){n.value=!1}function W(t,e,o){let i="";return function(t,e,a){return(t-1+a.length)%a.length===e}(t,e,o)&&(i=a.customPrevClass||a.customPrevImageClass),function(t,e,a){return(t+1+a.length)%a.length===e}(t,e,o)&&(i=a.customNextClass||a.customNextImageClass),i}function J(t){const{current:e,source:i}=t.detail,n=l.value;if(o("change",{current:e,source:i}),e!==l.value){s(e,"autoplay"===i||"touch"===i)}!function(t,e){(function(t){if(a.stopPreviousVideo){const e=a.list[t];if(L(e)&&z(e)){K(`video-${t}-${r.value}`,u).pause()}}else a.stopAutoplayWhenVideoPlay&&E()})(t),function(t){if(a.autoplayVideo){const e=a.list[t];if(L(e)&&z(e)){K(`video-${t}-${r.value}`,u).play()}}}(e)}(n,e)}function Q(t){const{current:e,source:a}=t.detail;if(e!==l.value){s(e,"autoplay"===a||"touch"===a)}o("animationfinish",{current:e,source:a})}function R(t,e){o("click",{index:t,item:e})}function X({dir:t}){const{list:e,loop:o}=a,i=e.length;let s="next"===t?l.value+1:l.value-1;s=o?"next"===t?(l.value+1)%i:(l.value-1+i)%i:s<0||s>=i?l.value:s,s!==l.value&&A(s)}return(t,e)=>{const a=M,o=S,s=U,u=V,b=$,k=v;return p(),d(k,{class:g(`wui-swiper ${t.customClass}`),style:f(t.customStyle)},{default:y((()=>[h(b,{"adjust-height":t.adjustHeight,"adjust-vertical-height":t.adjustVerticalHeight,class:"wui-swiper__track",autoplay:t.autoplay&&!n.value,current:i.value,interval:t.interval,duration:t.duration,circular:t.loop,vertical:"vertical"==t.direction,"easing-function":t.easingFunction,"previous-margin":I(G)(t.previousMargin),"next-margin":I(G)(t.nextMargin),"snap-to-edge":t.snapToEdge,"display-multiple-items":t.displayMultipleItems,style:f({height:I(G)(t.height)}),onChange:J,onAnimationfinish:Q},{default:y((()=>[(p(!0),c(_,null,w(t.list,((e,i)=>(p(),d(u,{key:i,class:"wui-swiper__item"},{default:y((()=>[z(e)?(p(),d(a,{key:0,id:`video-${i}-${r.value}`,style:f({height:I(G)(t.height)}),src:I(D)(e)?e[t.valueKey]:e,poster:I(D)(e)?e.poster:"",class:g(`wui-swiper__video ${t.customItemClass} ${W(l.value,i,t.list)}`),onPlay:F,onPause:E,"enable-progress-gesture":!1,loop:t.videoLoop,muted:t.muted,autoplay:t.autoplayVideo,objectFit:"cover",onClick:t=>R(i,e)},null,8,["id","style","src","poster","class","loop","muted","autoplay","onClick"])):(p(),d(o,{key:1,src:I(D)(e)?e[t.valueKey]:e,class:g(`wui-swiper__image ${t.customImageClass} ${t.customItemClass} ${W(l.value,i,t.list)}`),style:f({height:I(G)(t.height)}),mode:t.imageMode,onClick:t=>R(i,e)},null,8,["src","class","style","mode","onClick"])),I(D)(e)&&e[t.textKey]?(p(),d(s,{key:2,class:g(`wui-swiper__text ${t.customTextClass}`),style:f(t.customTextStyle)},{default:y((()=>[C(x(e[t.textKey]),1)])),_:2},1032,["class","style"])):m("",!0)])),_:2},1024)))),128))])),_:1},8,["adjust-height","adjust-vertical-height","autoplay","current","interval","duration","circular","vertical","easing-function","previous-margin","next-margin","snap-to-edge","display-multiple-items","style"]),t.indicator?(p(),c(_,{key:0},[O(t.$slots,"indicator",{current:l.value,total:t.list.length},void 0,!0),t.$slots.indicator?m("",!0):(p(),d(et,{key:0,"custom-class":t.customIndicatorClass,type:N.value.type,current:N.value.current,total:N.value.total,direction:N.value.direction,"indicator-position":N.value.indicatorPosition,"min-show-num":N.value.minShowNum,"show-controls":N.value.showControls,onChange:X},null,8,["custom-class","type","current","total","direction","indicator-position","min-show-num","show-controls"]))],64)):m("",!0)])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-8dde9f48"]]),it=E(r({__name:"Index",setup(t){const e=b(["https://cdn.pixabay.com/photo/2014/10/10/10/49/forest-483207_1280.jpg","https://cdn.pixabay.com/photo/2018/04/06/00/25/trees-3294681_640.jpg","https://cdn.pixabay.com/photo/2020/09/22/11/36/moss-5592802_640.jpg","https://cdn.pixabay.com/photo/2016/08/11/23/55/trees-1587301_640.jpg","https://cdn.pixabay.com/photo/2017/03/29/11/48/meadow-2184989_640.jpg"]),a=b([{url:"https://cdn.pixabay.com/photo/2016/11/18/12/41/autumn-1834228_640.jpg",title:"小熊猫！"},{url:"https://cdn.pixabay.com/photo/2012/11/29/14/35/florida-67897_640.jpg",title:"卡！皮！巴！拉！"},{url:"https://cdn.pixabay.com/photo/2015/11/12/21/27/fern-1041021_640.jpg",title:"大熊猫！"},{url:"https://cdn.pixabay.com/photo/2020/11/13/20/10/forest-5739807_640.jpg",title:"诗画中国！"}]),o=b(["https://standard-hospital-xnykd.oss-cn-hangzhou.aliyuncs.com/sys/video/1735897454073_.mp4","https://standard-hospital-xnykd.oss-cn-hangzhou.aliyuncs.com/sys/video/1735897475859_.mp4","https://standard-hospital-xnykd.oss-cn-hangzhou.aliyuncs.com/sys/video/1735897494353_.mp4","https://cdn.pixabay.com/photo/2016/04/23/21/51/fern-1348353_640.jpg"]),i=b(0),l=b(1),s=b(2),n=b(3),u=b(4),r=b(0),c=b(0),m=b(0),g=b(0),f=b(0),_=b(!1);function w(t){console.log(t)}function k(t){console.log(t)}return(t,b)=>{const j=N(z("wui-swiper"),ot),P=N(z("demo-block"),Y),$=v,I=N(z("wui-gap"),Q),V=N(z("wui-switch"),R),M=N(z("wui-cell"),X),S=N(z("wui-cell-group"),Z),U=N(z("wui-button"),tt),O=N(z("page-wraper"),J);return p(),d(O,null,{default:y((()=>[h(P,{title:"点状指示器"},{default:y((()=>[h(j,{list:e.value,autoplay:"",current:i.value,"onUpdate:current":b[0]||(b[0]=t=>i.value=t),indicator:{type:"dots"},onClick:w,onChange:k},null,8,["list","current"])])),_:1}),h(P,{title:"点条状指示器"},{default:y((()=>[h(j,{list:e.value,autoplay:"",current:l.value,"onUpdate:current":b[1]||(b[1]=t=>l.value=t),indicator:{type:"dots-bar"},onClick:w,onChange:k},null,8,["list","current"])])),_:1}),h(P,{title:"数字指示器"},{default:y((()=>[h(j,{list:e.value,autoplay:"",current:s.value,"onUpdate:current":b[2]||(b[2]=t=>s.value=t),indicator:{type:"fraction"},"indicator-position":"bottom-right",onClick:w,onChange:k},null,8,["list","current"])])),_:1}),h(P,{title:"视频轮播"},{default:y((()=>[h(j,{list:o.value,autoplay:"",indicator:{type:"fraction"},"indicator-position":"top-right",onClick:w,onChange:k},null,8,["list"])])),_:1}),h(P,{title:"手动播放视频"},{default:y((()=>[h(j,{list:o.value,autoplay:"",autoplayVideo:!1,indicator:{type:"fraction"},"indicator-position":"top-right",onClick:w,onChange:k},null,8,["list"])])),_:1}),h(P,{title:"播放视频时停止轮播"},{default:y((()=>[h(j,{list:o.value,autoplay:"",stopAutoplayWhenVideoPlay:"",autoplayVideo:!1,indicator:{type:"fraction"},"indicator-position":"top-right",onClick:w,onChange:k},null,8,["list"])])),_:1}),h(P,{title:"手动切换"},{default:y((()=>[h(j,{list:e.value,autoplay:!1,current:n.value,"onUpdate:current":b[3]||(b[3]=t=>n.value=t),indicator:{showControls:!0},loop:!1,onClick:w,onChange:k},null,8,["list","current"])])),_:1}),h(P,{title:"卡片样式"},{default:y((()=>[h($,{class:"card-swiper"},{default:y((()=>[h(j,{autoplay:"",current:u.value,"onUpdate:current":b[4]||(b[4]=t=>u.value=t),"custom-indicator-class":"custom-indicator-class","custom-image-class":"custom-image","custom-next-image-class":"custom-image-prev","custom-prev-image-class":"custom-image-prev",indicator:{type:"dots"},list:e.value,previousMargin:"24px",nextMargin:"24px"},null,8,["current","list"])])),_:1})])),_:1}),h(P,{title:"同时展示2个滑块"},{default:y((()=>[h($,{class:"card-swiper"},{default:y((()=>[h(j,{autoplay:"",current:r.value,"onUpdate:current":b[5]||(b[5]=t=>r.value=t),"display-multiple-items":2,"custom-indicator-class":"custom-indicator-class","custom-image-class":"custom-image","custom-next-image-class":"custom-image-prev","custom-prev-image-class":"custom-image-prev",indicator:{type:"dots"},list:e.value,previousMargin:"24px",nextMargin:"24px"},null,8,["current","list"])])),_:1})])),_:1}),h(P,{title:"垂直方向"},{default:y((()=>[h(j,{list:e.value,direction:"vertical","indicator-position":"right",autoplay:"",current:c.value,"onUpdate:current":b[6]||(b[6]=t=>c.value=t),indicator:{type:"dots-bar"},onClick:w,onChange:k},null,8,["list","current"])])),_:1}),h(P,{title:"自定义指示器"},{default:y((()=>[h(j,{list:e.value,direction:"vertical","indicator-position":"right",autoplay:"",current:m.value,"onUpdate:current":b[7]||(b[7]=t=>m.value=t),onClick:w,onChange:k},{indicator:y((({current:t,total:e})=>[h($,{class:"custom-indicator",style:{position:"absolute",bottom:"24rpx",right:"24rpx"}},{default:y((()=>[C(x(t+1)+"/"+x(e),1)])),_:2},1024)])),_:1},8,["list","current"])])),_:1}),h(P,{title:"指定valueKey和textKey"},{default:y((()=>[h(j,{"value-key":"url","text-key":"title",list:a.value,autoplay:"",current:f.value,"onUpdate:current":b[8]||(b[8]=t=>f.value=t),onClick:w,onChange:k},null,8,["list","current"])])),_:1}),h(P,{title:"属性控制切换"},{default:y((()=>[h(j,{loop:_.value,autoplay:!1,list:e.value,current:g.value,"onUpdate:current":b[9]||(b[9]=t=>g.value=t)},null,8,["loop","list","current"]),h(I),h(S,null,{default:y((()=>[h(M,{title:"loop"},{default:y((()=>[h(V,{modelValue:_.value,"onUpdate:modelValue":b[10]||(b[10]=t=>_.value=t),size:"24px"},null,8,["modelValue"])])),_:1}),h(M,{title:"current",value:g.value.toString()},null,8,["value"])])),_:1}),h($,{style:{display:"flex","justify-content":"space-between"}},{default:y((()=>[h(U,{onClick:b[11]||(b[11]=t=>g.value--)},{default:y((()=>[C("prev")])),_:1}),h(U,{type:"success",onClick:b[12]||(b[12]=t=>g.value++)},{default:y((()=>[C("next")])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-cd939610"]]);export{it as default};
