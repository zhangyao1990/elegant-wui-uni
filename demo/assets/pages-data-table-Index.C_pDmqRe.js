var e=Object.defineProperty,l=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,i=(e,l)=>{for(var a in l||(l={}))o.call(l,a)&&s(e,a,l[a]);if(t)for(var a of t(l))r.call(l,a)&&s(e,a,l[a]);return e},d=(e,t)=>l(e,a(t));import{d as n,r as u,c as p,a as c,g as b,w as h,n as g,F as f,p as m,i as w,B as _,s as x,u as y,A as v,D as $,k as j,t as k,I as S,x as C,h as L,S as I,e as V,f as D}from"./index-7V_Oz7o2.js";import{l as H,k as O,t as F,v as M,c as R,z as E,d as P,n as U,e as A,D as B,o as G,ag as z,a as T,E as W,x as q,W as J,_ as K}from"./page-wraper.XTDu10FG.js";import{w as N}from"./wui-sort-button.DdSYRlsx.js";import{u as Q}from"./useTranslate.NU6YixkU.js";import{u as X}from"./useChildren.CE-WdV6D.js";import{_ as Y}from"./demo-block.Dak0lv3M.js";import{_ as Z}from"./wui-pagination.Ci_30FQK.js";import"./wui-button.CpEmAov2.js";const ee={prop:M(String),label:M(String),width:F(100),sortable:O(!1),fixed:O(!1),align:H("left")},le=d(i({},R),{data:M(Array),border:O(!0),stripe:O(!0),height:E,rowHeight:F(50),showHeader:O(!0),ellipsis:O(!0),index:{type:[Object,Boolean],default:!1},fixedHeader:O(!0)}),ae=Symbol("wui-table"),te=T(n(d(i({},{name:"wui-table-col",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"}}),{props:ee,setup(e,{expose:l}){const a=e,{parent:t,index:o}=P(ae),r=u(0),s=p((()=>!!U(t)&&t.props.stripe)),i=p((()=>!!U(t)&&t.props.border)),d=p((()=>!!U(t)&&t.props.ellipsis)),n=p((()=>{let e=!1;return a.fixed&&U(t)&&(e=t.getIsLastFixed(a)),e})),S=p((()=>{let e={};return U(a.width)&&(e.width=A(a.width)),a.fixed&&U(t)&&B(t.getFixedStyle)&&(e=t.getFixedStyle(o.value,e)),e})),C=p((()=>{let e={};const l=U(t)?t.props.rowHeight:50;return U(l)&&(e.height=A(l)),a.fixed&&U(t)&&B(t.getFixedStyle)&&(e=t.getFixedStyle(o.value,e)),G(e)})),L=p((()=>{if(!U(t))return[];return t.props.data.map((e=>e[a.prop]))}));function I(e){return U(t)&&t.props.data[e]||{}}return l({sortDirection:r}),(e,l)=>{const a=$,o=w;return b(),c(o,{class:x(`wui-table-col ${e.fixed?"wui-table-col--fixed":""} ${n.value&&y(U)(y(t))&&y(t).state.scrollLeft?"is-shadow":""}`),style:_(S.value)},{default:h((()=>[(b(!0),g(f,null,m(L.value,((l,r)=>(b(),c(o,{class:x(`wui-table__cell ${s.value&&y(z)(r)?"is-stripe":""} ${i.value?"is-border":""} is-${e.align}`),key:r,style:_(C.value),onClick:e=>function(e){U(t)&&B(t.rowClick)&&t.rowClick(e)}(r)},{default:h((()=>[e.$slots.value?v(e.$slots,"value",{key:0,row:I(r),index:r},void 0,!0):(b(),c(a,{key:1,class:x("wui-table__value "+(d.value?"is-ellipsis":""))},{default:h((()=>[j(k(l),1)])),_:2},1032,["class"]))])),_:2},1032,["class","style","onClick"])))),128))])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-fc14f74b"]]),oe=T(n(d(i({},{name:"wui-table",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"}}),{props:le,emits:["sort-method","row-click"],setup(e,{emit:l}){const{translate:a}=Q("tableCol"),t=e,o=l,r=S({scrollLeft:0}),{linkChildren:s,children:d}=X(ae);s({props:t,state:r,rowClick:function(e){o("row-click",{rowIndex:e})},getIsLastFixed:M,getFixedStyle:E});const n=W(),V=u(i({prop:n,label:a("indexLabel"),width:"100rpx",sortable:!1,fixed:!1,align:"left"},q(t.index)?t.index:{})),D=J((function(e){r.scrollLeft=e.detail.scrollLeft}),100,{leading:!1}),H=p((()=>{const e={};return U(t.height)&&(e["max-height"]=A(t.height)),`${G(e)};${t.customStyle}`})),O=p((()=>{const e={display:"flex"};let l="";return d.forEach((e=>{l=l?`${l} + ${A(e.width)}`:A(e.width)})),e.width=`calc(${l})`,G(e)})),F=p((()=>{const e={};return U(t.height)&&(e.height=U(t.rowHeight)?`calc(${t.data.length} * ${A(t.rowHeight)})`:`calc(${t.data.length} * 50px)`),`${G(e)};`}));function M(e){let l=!1;if(e.fixed&&U(d)){const a=d.filter((e=>e.fixed));a.length&&a[a.length-1].prop===e.prop&&(l=!0)}return l}function R(e){let l={};return U(d[e].width)&&(l.width=A(d[e].width)),d[e].fixed&&(l=E(e,l)),G(l)}function E(e,l){if(e>0){let a="";d.forEach(((l,t)=>{t<e&&(a=a?`${a} + ${A(l.width)}`:A(l.width))})),l.left=`calc(${a})`}else l.left=0;return l}function P(e,l){d[l].$.exposed.sortDirection.value=e,d.forEach(((e,a)=>{l!=a&&(e.$.exposed.sortDirection.value=0)}));const a={prop:d[l].prop,label:d[l].label,width:d[l].width,sortable:d[l].sortable,align:d[l].align,sortDirection:e,fixed:d[l].fixed};o("sort-method",a)}return(e,l)=>{const a=$,t=w,o=I;return b(),c(t,{class:x(`wui-table ${e.border?"is-border":""} ${e.customClass}`),style:_(H.value)},{default:h((()=>[e.fixedHeader?(b(),g(f,{key:0},[e.showHeader?(b(),c(o,{key:0,"enable-flex":!0,throttle:!1,scrollLeft:r.scrollLeft,"scroll-x":!0,class:"wui-table__header",onScroll:y(D)},{default:h((()=>[L(t,{id:"table-header",class:"wui-table__content wui-table__content--header",style:_(O.value)},{default:h((()=>[(b(!0),g(f,null,m(y(d),((l,o)=>(b(),c(t,{class:x(`wui-table__cell ${e.border?"is-border":""} ${l.fixed?"is-fixed":""} ${e.stripe?"is-stripe":""} is-${l.align} ${M(l)&&r.scrollLeft?"is-shadow":""}`),style:_(R(o)),key:o},{default:h((()=>[l.sortable?(b(),c(N,{key:0,modelValue:l.$.exposed.sortDirection.value,"onUpdate:modelValue":e=>l.$.exposed.sortDirection.value=e,"allow-reset":"",line:!1,title:l.label,onChange:({value:e})=>P(e,o)},null,8,["modelValue","onUpdate:modelValue","title","onChange"])):(b(),c(a,{key:1,class:x("wui-table__value "+(e.ellipsis?"is-ellipsis":""))},{default:h((()=>[j(k(l.label),1)])),_:2},1032,["class"]))])),_:2},1032,["class","style"])))),128))])),_:1},8,["style"])])),_:1},8,["scrollLeft","onScroll"])):C("",!0),L(o,{class:"wui-table__body",style:_(F.value),"enable-flex":!0,throttle:!1,"scroll-x":!0,onScroll:y(D),scrollLeft:r.scrollLeft},{default:h((()=>[L(t,{id:"table-body",class:"wui-table__content",style:_(O.value)},{default:h((()=>[!1!==e.index?(b(),c(te,{key:0,prop:V.value.prop,label:V.value.label,width:V.value.width,sortable:V.value.sortable,fixed:V.value.fixed,align:V.value.align},{value:h((({index:e})=>[L(a,null,{default:h((()=>[j(k(e+1),1)])),_:2},1024)])),_:1},8,["prop","label","width","sortable","fixed","align"])):C("",!0),v(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3},8,["style","onScroll","scrollLeft"])],64)):(b(),c(o,{key:1,class:"wui-table__wrapper","enable-flex":!0,throttle:!1,"scroll-x":!0,onScroll:y(D),scrollLeft:r.scrollLeft},{default:h((()=>[L(t,{class:"wui-table__inner",style:_(O.value)},{default:h((()=>[e.showHeader?(b(),c(t,{key:0,class:"wui-table__header-row"},{default:h((()=>[(b(!0),g(f,null,m(y(d),((l,o)=>(b(),c(t,{key:o,class:x(`wui-table__cell ${e.border?"is-border":""} ${l.fixed?"is-fixed":""} ${e.stripe?"is-stripe":""} is-${l.align} ${M(l)&&r.scrollLeft?"is-shadow":""}`),style:_(R(o))},{default:h((()=>[l.sortable?(b(),c(N,{key:0,modelValue:l.$.exposed.sortDirection.value,"onUpdate:modelValue":e=>l.$.exposed.sortDirection.value=e,"allow-reset":"",line:!1,title:l.label,onChange:({value:e})=>P(e,o)},null,8,["modelValue","onUpdate:modelValue","title","onChange"])):(b(),c(a,{key:1,class:x("wui-table__value "+(e.ellipsis?"is-ellipsis":""))},{default:h((()=>[j(k(l.label),1)])),_:2},1032,["class"]))])),_:2},1032,["class","style"])))),128))])),_:1})):C("",!0),L(t,{class:"wui-table__content",style:_(F.value)},{default:h((()=>[!1!==e.index?(b(),c(te,{key:0,prop:V.value.prop,label:V.value.label,width:V.value.width,sortable:V.value.sortable,fixed:V.value.fixed,align:V.value.align},{value:h((({index:e})=>[L(a,null,{default:h((()=>[j(k(e+1),1)])),_:2},1024)])),_:1},8,["prop","label","width","sortable","fixed","align"])):C("",!0),v(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3},8,["style"])])),_:3},8,["onScroll","scrollLeft"]))])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-b662929e"]]),re=T(n({__name:"Index",setup(e){const l=u([{name:"关羽",school:"武汉市阳逻绿豆学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:66,compare:"48%",hobby:"颜良文丑，以吾观之，如土鸡瓦犬耳。"},{name:"刘备",school:"武汉市阳逻编织学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:68,compare:"21%",hobby:"我得空明，如鱼得水也"},{name:"赵云",school:"武汉市阳逻妇幼保健学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:91,compare:"12%",hobby:"子龙，子龙，世无双"},{name:"赵云",school:"武汉市阳逻妇幼保健学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:91,compare:"12%",hobby:"子龙，子龙，世无双"},{name:"孔明",school:"武汉市阳逻卧龙学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:99,compare:"18%",hobby:"兴汉讨贼，克复中原"},{name:"赵云",school:"武汉市阳逻妇幼保健学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:36,compare:"48%",hobby:"子龙，子龙，世无双"},{name:"关羽",school:"武汉市阳逻绿豆学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:66,compare:"48%",hobby:"颜良文丑，以吾观之，如土鸡瓦犬耳。"},{name:"刘备",school:"武汉市阳逻编织学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:68,compare:"21%",hobby:"我得空明，如鱼得水也"},{name:"赵云",school:"武汉市阳逻妇幼保健学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:91,compare:"12%",hobby:"子龙，子龙，世无双"},{name:"孔明",school:"武汉市阳逻卧龙学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:99,compare:"18%",hobby:"兴汉讨贼，克复中原"},{name:"赵云",school:"武汉市阳逻妇幼保健学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:36,compare:"48%",hobby:"子龙，子龙，世无双"},{name:"关羽",school:"武汉市阳逻绿豆学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:66,compare:"48%",hobby:"颜良文丑，以吾观之，如土鸡瓦犬耳。"},{name:"刘备",school:"武汉市阳逻编织学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:68,compare:"21%",hobby:"我得空明，如鱼得水也"},{name:"赵云",school:"武汉市阳逻妇幼保健学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:91,compare:"12%",hobby:"子龙，子龙，世无双"},{name:"孔明",school:"武汉市阳逻卧龙学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:99,compare:"18%",hobby:"兴汉讨贼，克复中原"}]),a=u(1),t=u(10),o=u(l.value.length),r=p((()=>l.value.slice((a.value-1)*t.value,a.value*t.value)));function s(e){l.value=l.value.reverse()}function i({rowIndex:e}){console.log(e)}return(e,t)=>{const d=V(D("wui-table-col"),te),n=V(D("wui-table"),oe),u=V(D("demo-block"),Y),p=$,g=w,f=V(D("wui-pagination"),Z),m=V(D("page-wraper"),K);return b(),c(m,null,{default:h((()=>[L(u,{title:"基本用法"},{default:h((()=>[L(n,{data:l.value,onSortMethod:s,height:"400px",onRowClick:i},{default:h((()=>[L(d,{prop:"name",label:"姓名",align:"center",width:"50%"}),L(d,{prop:"grade",label:"分数",align:"center",width:"50%"})])),_:1},8,["data"])])),_:1}),L(u,{title:"无边框"},{default:h((()=>[L(n,{data:l.value,onSortMethod:s,height:"400px",border:!1,onRowClick:i},{default:h((()=>[L(d,{prop:"name",label:"姓名",align:"center",width:"50%"}),L(d,{prop:"grade",label:"分数",align:"center",width:"50%"})])),_:1},8,["data"])])),_:1}),L(u,{title:"无斑马纹"},{default:h((()=>[L(n,{data:l.value,onSortMethod:s,height:"400px",stripe:!1,onRowClick:i},{default:h((()=>[L(d,{prop:"name",label:"姓名",align:"center",width:"50%"}),L(d,{prop:"grade",label:"分数",align:"center",width:"50%"})])),_:1},8,["data"])])),_:1}),L(u,{title:"不展示表头"},{default:h((()=>[L(n,{data:l.value,onSortMethod:s,height:"400px","show-header":!1,onRowClick:i},{default:h((()=>[L(d,{prop:"name",label:"姓名",align:"center",width:"50%"}),L(d,{prop:"grade",label:"分数",align:"center",width:"50%"})])),_:1},8,["data"])])),_:1}),L(u,{title:"固定列"},{default:h((()=>[L(n,{data:l.value,onSortMethod:s,onRowClick:i,height:"400px"},{default:h((()=>[L(d,{prop:"name",label:"姓名",fixed:"",sortable:"",align:"center"}),L(d,{prop:"grade",label:"分数",fixed:"",sortable:"",align:"center"}),L(d,{prop:"hobby",label:"一言以蔽之",sortable:"",width:160}),L(d,{prop:"school",label:"求学之所",width:180}),L(d,{prop:"major",label:"专业"}),L(d,{prop:"gender",label:"性别"})])),_:1},8,["data"])])),_:1}),L(u,{title:"显示索引"},{default:h((()=>[L(n,{data:l.value,height:"400px",onSortMethod:s,index:{align:"center"}},{default:h((()=>[L(d,{prop:"name",label:"姓名",sortable:"",align:"center"}),L(d,{prop:"grade",label:"分数",sortable:"",align:"center"}),L(d,{prop:"hobby",label:"一言以蔽之",sortable:"",width:160}),L(d,{prop:"school",label:"求学之所",width:180}),L(d,{prop:"major",label:"专业"}),L(d,{prop:"gender",label:"性别"})])),_:1},8,["data"])])),_:1}),L(u,{title:"自定义列模板"},{default:h((()=>[L(n,{data:l.value,onSortMethod:s,onRowClick:i,height:"400px"},{default:h((()=>[L(d,{prop:"name",label:"姓名",fixed:"",sortable:"",align:"center"}),L(d,{prop:"grade",label:"分数",fixed:"",sortable:"",align:"center"},{value:h((({row:e})=>[L(g,{class:"custom-class"},{default:h((()=>[L(p,null,{default:h((()=>[j(k(e.grade),1)])),_:2},1024),L(p,null,{default:h((()=>[j("同比"+k(e.compare),1)])),_:2},1024)])),_:2},1024)])),_:1}),L(d,{prop:"hobby",label:"一言以蔽之",sortable:"",width:160}),L(d,{prop:"school",label:"求学之所",width:180}),L(d,{prop:"major",label:"专业"}),L(d,{prop:"gender",label:"性别"}),L(d,{prop:"graduation",label:"学成时间"})])),_:1},8,["data"])])),_:1}),L(u,{title:"不固定表头结合分页器"},{default:h((()=>[L(n,{data:r.value,"fixed-header":!1},{default:h((()=>[L(d,{prop:"name",label:"姓名",fixed:"",align:"center"}),L(d,{prop:"grade",label:"分数",align:"center"}),L(d,{prop:"hobby",label:"一言以蔽之",width:160}),L(d,{prop:"school",label:"求学之所",width:180}),L(d,{prop:"major",label:"专业"}),L(d,{prop:"gender",label:"性别"})])),_:1},8,["data"]),L(f,{"custom-style":"border: 1px solid #ececec;border-top:none",modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),total:o.value},null,8,["modelValue","total"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-90b17eac"]]);export{re as default};
