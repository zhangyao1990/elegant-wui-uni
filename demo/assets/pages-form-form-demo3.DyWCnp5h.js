import{_ as e}from"./wui-message-box.BwUamJHv.js";import{d as l,I as a,r as o,a as t,w as r,i,e as s,f as u,g as d,h as m,k as p,x as c,D as n}from"./index-CnRAlpd-.js";import{f,g as w,h,i as b,_ as v,M as V,a as g}from"./page-wraper.DMME2CXH.js";import{_ as j}from"./wui-input.Dy8DxWjO.js";import{_}from"./wui-select-picker.CDzSMmAv.js";import{_ as x}from"./wui-picker.5bkqEBFV.js";import{_ as P}from"./wui-cell-group.Doe8cqfe.js";import{_ as k}from"./wui-datetime-picker.Do5-AUQ8.js";import{_ as y}from"./wui-calendar.C6fDEGrI.js";import{u as q,_ as U}from"./useColPickerData.Ca-s302e.js";import{_ as I}from"./wui-textarea.vDOa-KtL.js";import{_ as C}from"./wui-input-number.DCBgiWG9.js";import{_ as L}from"./wui-upload.DgfqzgR7.js";import{_ as N}from"./wui-checkbox.Drx00fzA.js";import{_ as D}from"./wui-button.Bcr_H9ae.js";import{_ as z}from"./wui-form.ehCFH-9S.js";import"./useTranslate.DCsJG8gA.js";import"./wui-search.D5pVTiFT.js";import"./wui-action-sheet.CrdI8UKt.js";import"./wui-checkbox-group.Bf36LxaS.js";import"./useChildren.B4reFkwq.js";import"./wui-radio-group.Df9Jb6J9.js";import"./wui-picker-view.CCYmmDb0.js";import"./wui-datetime-picker-view.vue_vue_type_script_setup_true_lang.DbS6l2gW.js";import"./dayjs.CzhXVd04.js";import"./wui-tabs.DpvbSOfY.js";import"./wui-badge.Fz61HQO3.js";import"./wui-sticky-box._ZcpGfc9.js";import"./wui-resize.Cusd0yNI.js";import"./useTouch.BqiP_qH2.js";import"./wui-tag.DyG6ZpzK.js";import"./wui-calendar-view.Df2-w_We.js";import"./types.S9j9C-lg.js";const T=g(l({__name:"demo3",setup(l){const{colPickerData:g,findChildrenByCode:T}=q(),B=a({couponName:"",platform:[],promotion:"",threshold:"",price:"",date:null,time:"",address:[],count:1,content:"",switchVal:!0,cardId:"",phone:"",read:!1,fileList:[],discount:1}),M={couponName:[{required:!0,pattern:/\d{6}/,message:"优惠券名称6个字以上",validator:e=>e?Promise.resolve():Promise.reject("请输入优惠券名称")}],content:[{required:!0,message:"请输入活动细则信息",validator:e=>e&&e.length>2?Promise.resolve():Promise.reject("请输入活动细则信息")}],threshold:[{required:!0,message:"请输入满减金额",validator:e=>e&&B.price?Promise.resolve():Promise.reject()}],platform:[{required:!0,message:"请选择推广平台",validator:e=>e&&V(e)&&e.length?Promise.resolve():Promise.reject("请选择推广平台")}],promotion:[{required:!0,message:"请选择推广平台",validator:e=>e?Promise.resolve():Promise.reject("请选择推广平台")}],time:[{required:!0,message:"请选择时间",validator:e=>e?Promise.resolve():Promise.reject("请选择时间")}],date:[{required:!0,message:"请选择日期",validator:e=>e?Promise.resolve():Promise.reject()}],address:[{required:!0,message:"请选择地址",validator:e=>V(e)&&e.length?Promise.resolve():Promise.reject("请选择地址")}],count:[{required:!0,message:"发货数量需要大于1",validator:e=>Number(e)>1?Promise.resolve():Promise.reject("发货数量需要大于1")}],cardId:[{required:!0,message:"请输入汪汪队",validator:e=>e?Promise.resolve():Promise.reject("请输入汪汪队")}],phone:[{required:!0,message:"请输入汪汪队",validator:e=>e?Promise.resolve():Promise.reject()}],fileList:[{required:!0,message:"请选择活动图片",validator:e=>V(e)&&e.length?Promise.resolve():Promise.reject()}],discount:[{required:!0,message:"请输入优惠金额",validator:e=>e?Promise.resolve():Promise.reject()}]},A=o([{value:"1",label:"京东"},{value:"2",label:"开普勒"},{value:"3",label:"手Q"},{value:"4",label:"微信"},{value:"5",label:"1号店"},{value:"6",label:"十元街"},{value:"7",label:"京东极速版"}]),E=o([{value:"1",label:"满减"},{value:"2",label:"无门槛"}]),F=o([g.map((e=>({value:e.value,label:e.text})))]),G=({selectedItem:e,resolve:l,finish:a})=>{const o=T(g,e.value);o&&o.length?l(o.map((e=>({value:e.value,label:e.text})))):a()},H=f(),J=o();function K({fileList:e}){B.fileList=e}function O(){J.value.validate().then((({valid:e,errors:l})=>{e&&H.success("提交成功"),console.log(e),console.log(l)})).catch((e=>{console.log(e,"error")}))}function Q(){H.info("优惠券提示信息")}return(l,a)=>{const o=s(u("wui-message-box"),e),f=s(u("wui-toast"),w),V=s(u("wui-input"),j),g=s(u("wui-select-picker"),_),q=s(u("wui-picker"),x),T=i,H=s(u("wui-cell"),h),R=s(u("wui-cell-group"),P),Y=s(u("wui-datetime-picker"),k),Z=s(u("wui-calendar"),y),$=s(u("wui-col-picker"),U),S=s(u("wui-textarea"),I),W=s(u("wui-input-number"),C),X=s(u("wui-switch"),b),ee=s(u("wui-upload"),L),le=n,ae=s(u("wui-checkbox"),N),oe=s(u("wui-button"),D),te=s(u("wui-form"),z),re=s(u("page-wraper"),v);return d(),t(T,null,{default:r((()=>[m(re,null,{default:r((()=>[m(o),m(f),m(te,{ref_key:"form",ref:J,model:B,rules:M},{default:r((()=>[m(R,{"custom-class":"group",title:"基础信息",border:""},{default:r((()=>[m(V,{label:"优惠券名称","label-width":"100px",maxlength:20,"show-word-limit":"",prop:"couponName",required:"","suffix-icon":"warn-bold",clearable:"",modelValue:B.couponName,"onUpdate:modelValue":a[0]||(a[0]=e=>B.couponName=e),placeholder:"请输入优惠券名称",onClicksuffixicon:Q},null,8,["modelValue"]),m(g,{label:"推广平台","label-width":"100px",prop:"platform",modelValue:B.platform,"onUpdate:modelValue":a[1]||(a[1]=e=>B.platform=e),columns:A.value,placeholder:"请选择推广平台"},null,8,["modelValue","columns"]),m(q,{label:"优惠方式",placeholder:"请选择优惠方式","label-width":"100px",prop:"promotion",modelValue:B.promotion,"onUpdate:modelValue":a[2]||(a[2]=e=>B.promotion=e),columns:E.value},null,8,["modelValue","columns"]),m(H,{prop:"threshold",title:"券面额",required:"","title-width":"100px","custom-value-class":"cell-left"},{default:r((()=>[m(T,{style:{"text-align":"left"}},{default:r((()=>[m(T,{class:"inline-txt",style:{"margin-left":"0"}},{default:r((()=>[p("满")])),_:1}),m(V,{"no-border":"","custom-style":"display: inline-block; width: 70px; vertical-align: middle",placeholder:"请输入金额",modelValue:B.threshold,"onUpdate:modelValue":a[3]||(a[3]=e=>B.threshold=e)},null,8,["modelValue"]),m(T,{class:"inline-txt"},{default:r((()=>[p("减")])),_:1}),m(V,{"no-border":"","custom-style":"display: inline-block; width: 70px; vertical-align: middle",placeholder:"请输入金额",modelValue:B.price,"onUpdate:modelValue":a[4]||(a[4]=e=>B.price=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),m(R,{"custom-class":"group",title:"时间和地址",border:""},{default:r((()=>[m(Y,{label:"时间","label-width":"100px",placeholder:"请选择时间",prop:"time",modelValue:B.time,"onUpdate:modelValue":a[5]||(a[5]=e=>B.time=e)},null,8,["modelValue"]),m(Z,{label:"日期","label-width":"100px",placeholder:"请选择日期",prop:"date",modelValue:B.date,"onUpdate:modelValue":a[6]||(a[6]=e=>B.date=e)},null,8,["modelValue"]),m($,{label:"地址",placeholder:"请选择地址","label-width":"100px",prop:"address",modelValue:B.address,"onUpdate:modelValue":a[7]||(a[7]=e=>B.address=e),columns:F.value,"column-change":G},null,8,["modelValue","columns"])])),_:1}),m(R,{"custom-class":"group",title:"其他信息",border:""},{default:r((()=>[m(S,{label:"活动细则","label-width":"100px",type:"textarea",modelValue:B.content,"onUpdate:modelValue":a[8]||(a[8]=e=>B.content=e),maxlength:300,"show-word-limit":"",placeholder:"请输入活动细则信息",clearable:"",prop:"content"},null,8,["modelValue"]),m(H,{title:"发货数量","title-width":"100px",prop:"count"},{default:r((()=>[m(T,{style:{"text-align":"left"}},{default:r((()=>[m(W,{modelValue:B.count,"onUpdate:modelValue":a[9]||(a[9]=e=>B.count=e)},null,8,["modelValue"])])),_:1})])),_:1}),m(H,{title:"开启折扣","title-width":"100px",prop:"switchVal",center:""},{default:r((()=>[m(T,{style:{"text-align":"left"}},{default:r((()=>[m(X,{modelValue:B.switchVal,"onUpdate:modelValue":a[10]||(a[10]=e=>B.switchVal=e)},null,8,["modelValue"])])),_:1})])),_:1}),B.switchVal?(d(),t(V,{key:0,label:"折扣","label-width":"100px",prop:"discount",placeholder:"请输入优惠金额",clearable:"",modelValue:B.discount,"onUpdate:modelValue":a[11]||(a[11]=e=>B.discount=e)},null,8,["modelValue"])):c("",!0),m(V,{label:"汪汪队","label-width":"100px",prop:"cardId","suffix-icon":"camera",placeholder:"请输入汪汪队",clearable:"",modelValue:B.cardId,"onUpdate:modelValue":a[12]||(a[12]=e=>B.cardId=e)},null,8,["modelValue"]),m(V,{label:"汪汪队","label-width":"100px",prop:"phone",placeholder:"请输入汪汪队",clearable:"",modelValue:B.phone,"onUpdate:modelValue":a[13]||(a[13]=e=>B.phone=e)},null,8,["modelValue"]),m(H,{title:"活动图片","title-width":"100px",prop:"fileList"},{default:r((()=>[m(ee,{"file-list":B.fileList,action:"https://mockapi.eolink.com/zhTuw2P8c29bc981a741931bdd86eb04dc1e8fd64865cb5/upload",onChange:K},null,8,["file-list"])])),_:1})])),_:1}),m(T,{class:"tip"},{default:r((()=>[m(ae,{modelValue:B.read,"onUpdate:modelValue":a[14]||(a[14]=e=>B.read=e),prop:"read","custom-label-class":"label-class"},{default:r((()=>[p(" 已阅读并同意 "),m(le,{style:{color:"#4d80f0"}},{default:r((()=>[p("《巴拉巴拉吧啦协议》")])),_:1})])),_:1},8,["modelValue"])])),_:1}),m(T,{class:"footer"},{default:r((()=>[m(oe,{type:"primary",size:"large",onClick:O,block:""},{default:r((()=>[p("提交")])),_:1})])),_:1})])),_:1},8,["model"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-44b9494e"]]);export{T as default};
