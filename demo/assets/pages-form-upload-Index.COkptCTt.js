var e=Object.defineProperty,l=Object.defineProperties,t=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(l,t,i)=>t in l?e(l,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[t]=i;import{d as s,r as u,a as f,w as c,e as r,f as p,g as d,h as m,k as v,i as g,t as h,an as _}from"./index-7V_Oz7o2.js";import{u as b,_ as w}from"./wui-message-box.O9sM5bOC.js";import{f as j,_ as y,g as L,a as x}from"./page-wraper.XTDu10FG.js";import{_ as C}from"./wui-upload.D3gpyado.js";import{_ as P}from"./demo-block.Dak0lv3M.js";import{_ as k}from"./wui-button.CpEmAov2.js";import"./wui-input.C94vwexm.js";import"./useTranslate.NU6YixkU.js";import"./types.CGFMi7-V.js";const O="https://mockapi.eolink.com/zhTuw2P8c29bc981a741931bdd86eb04dc1e8fd64865cb5/upload",U=x(s({__name:"Index",setup(e){const s=u([{url:"https://cdn.pixabay.com/photo/2020/05/03/13/09/puppy-5124947_640.jpg"}]),x=u([]),U=u([{url:"https://img12.360buyimg.com//n0/jfs/t1/29118/6/4823/55969/5c35c16bE7c262192/c9fdecec4b419355.jpg"}]),E=u([]),F=u([]),T=u([]),D=u([]),I=u([]),S=u([]),M=u([]),z=u([]);u([]),u([]);const B=u([]),N=u([]),$=u([]),q=u([{url:"https://cdn.pixabay.com/photo/2023/01/12/05/32/duck-7713310_640.jpg",name:"panda"}]),A=u([{url:"https://cdn.pixabay.com/photo/2023/01/12/05/32/duck-7713310_640.jpg"}]),G=u([]),H=u([]);u([]);const J=u([]),K=u(),Q=b(),R=j(),V=({file:e,resolve:l})=>{Q.confirm({msg:"是否选择",title:"提示"}).then((()=>{l(!0)})).catch((()=>{R.show("取消选择操作")}))},W=({resolve:e,file:l})=>{Q.confirm({msg:"是否预览图片",title:"提示"}).then((()=>{e(!0)})).catch((()=>{R.show("取消预览操作")}))},X=({files:e,resolve:l})=>{Q.confirm({msg:"是否上传",title:"提示"}).then((()=>{console.log(e,"files"),l(!0)})).catch((()=>{R.show("取消上传操作")}))},Y=({file:e,fileList:l,resolve:t})=>{Q.confirm({msg:"是否删除",title:"提示"}).then((()=>{R.success("删除成功"),t(!0)})).catch((()=>{R.show("取消删除操作")}))};function Z(e){console.log("成功",e)}function ee(e){console.log("失败",e)}function le(e){console.log("加载中",e)}function te({fileList:e}){x.value=e}function ie({fileList:e}){U.value=e}function ae({fileList:e}){E.value=e}function oe({fileList:e}){F.value=e}function ne({fileList:e}){T.value=e}function se({fileList:e}){D.value=e}function ue({fileList:e}){I.value=e}function fe({fileList:e}){S.value=e}function ce({fileList:e}){M.value=e}function re({fileList:e}){z.value=e}function pe({fileList:e}){B.value=e}function de({fileList:e}){N.value=e}const me=(e,s,u)=>{_({url:O,header:u.header,name:u.name,fileName:u.name,fileType:u.fileType,formData:s,filePath:e.url,success(f){var c,r;f.statusCode===u.statusCode?u.onSuccess(f,e,s):u.onError((c=((e,l)=>{for(var t in l||(l={}))a.call(l,t)&&n(e,t,l[t]);if(i)for(var t of i(l))o.call(l,t)&&n(e,t,l[t]);return e})({},f),r={errMsg:f.errMsg||""},l(c,t(r))),e,s)},fail(l){u.onError(l,e,s)}}).onProgressUpdate((l=>{u.onProgress(l,e)}))};return(e,l)=>{const t=r(p("wui-message-box"),w),i=r(p("wui-toast"),L),a=r(p("wui-upload"),C),o=r(p("demo-block"),P),n=r(p("wui-button"),k),u=g,_=r(p("page-wraper"),y);return d(),f(_,null,{default:c((()=>[m(t),m(i),m(o,{title:"基本用法"},{default:c((()=>[m(a,{accept:"image","file-list":s.value,"onUpdate:fileList":l[0]||(l[0]=e=>s.value=e),"image-mode":"aspectFill",action:O},null,8,["file-list"])])),_:1}),m(o,{title:"最大上传数限制"},{default:c((()=>[m(a,{"file-list":E.value,limit:3,action:O,onChange:ae},null,8,["file-list"])])),_:1}),m(o,{title:"覆盖上传"},{default:c((()=>[m(a,{accept:"all",reupload:"","file-list":A.value,"onUpdate:fileList":l[1]||(l[1]=e=>A.value=e),"image-mode":"aspectFill",action:O},null,8,["file-list"])])),_:1}),m(o,{title:"拦截预览图片操作"},{default:c((()=>[m(a,{"file-list":F.value,action:O,onChange:oe,"before-preview":W},null,8,["file-list"])])),_:1}),m(o,{title:"上传前置处理"},{default:c((()=>[m(a,{"file-list":T.value,action:O,onChange:ne,"before-upload":X},null,8,["file-list"])])),_:1}),m(o,{title:"移除图片前置处理"},{default:c((()=>[m(a,{"file-list":D.value,action:O,onChange:se,"before-remove":Y},null,8,["file-list"])])),_:1}),m(o,{title:"上传状态钩子"},{default:c((()=>[m(a,{"file-list":I.value,action:O,onChange:ue,onSuccess:Z,onFail:ee,onProgress:le},null,8,["file-list"])])),_:1}),m(o,{title:"禁用"},{default:c((()=>[m(a,{"file-list":S.value,disabled:"",action:O,onChange:fe},null,8,["file-list"])])),_:1}),m(o,{title:"多选"},{default:c((()=>[m(a,{"file-list":U.value,multiple:"",action:O,onChange:ie},null,8,["file-list"])])),_:1}),m(o,{title:"自定义唤起上传样式并限制上传5张"},{default:c((()=>[m(a,{"file-list":M.value,action:O,onChange:ce,limit:5},{default:c((()=>[m(n,null,{default:c((()=>[v("自定义唤起样式")])),_:1})])),_:1},8,["file-list"])])),_:1}),m(o,{title:"选择文件前置处理"},{default:c((()=>[m(a,{"file-list":z.value,action:O,onChange:re,"before-choose":V},null,8,["file-list"])])),_:1}),m(o,{title:"上传视频"},{default:c((()=>[m(a,{accept:"video",multiple:"","file-list":x.value,action:O,onChange:te},null,8,["file-list"])])),_:1}),m(o,{title:"上传视频图片和文件"},{default:c((()=>[m(a,{accept:"all",multiple:"","file-list":B.value,action:O,onChange:pe},null,8,["file-list"])])),_:1}),m(o,{title:"手动触发上传"},{default:c((()=>[m(a,{ref_key:"upload14",ref:K,"auto-upload":!1,"file-list":N.value,action:O,onChange:de},null,8,["file-list"]),m(n,{onClick:l[2]||(l[2]=e=>{var l;return null==(l=K.value)?void 0:l.submit()})},{default:c((()=>[v("开始上传")])),_:1})])),_:1}),m(o,{title:"自定义上传方法"},{default:c((()=>[m(a,{"file-list":$.value,"onUpdate:fileList":l[3]||(l[3]=e=>$.value=e),"upload-method":me},null,8,["file-list"])])),_:1}),m(o,{title:"自定义预览样式"},{default:c((()=>[m(a,{"file-list":q.value,"onUpdate:fileList":l[4]||(l[4]=e=>q.value=e),accept:"image","image-mode":"aspectFill",action:O},{"preview-cover":c((({file:e,index:l})=>[m(u,{class:"preview-cover"},{default:c((()=>[v(h(e.name||`文件${l}`),1)])),_:2},1024)])),_:1},8,["file-list"])])),_:1}),m(o,{title:"根据扩展名过滤"},{default:c((()=>[m(a,{"file-list":G.value,"onUpdate:fileList":l[5]||(l[5]=e=>G.value=e),extension:[".jpg",".png"],action:O},null,8,["file-list","extension"]),m(u,{style:{margin:"10px 0"}},{default:c((()=>[v("选择视频时过滤mp4")])),_:1}),m(a,{accept:"video","file-list":H.value,"onUpdate:fileList":l[6]||(l[6]=e=>H.value=e),extension:[".mp4"],action:O},null,8,["file-list","extension"]),m(u,{style:{margin:"10px 0"}},{default:c((()=>[v("上传所有类型文件时过滤.pdf和.docx")])),_:1}),m(a,{accept:"all","file-list":J.value,"onUpdate:fileList":l[7]||(l[7]=e=>J.value=e),extension:[".pdf",".docx"],action:O},null,8,["file-list","extension"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-65936448"]]);export{U as default};
