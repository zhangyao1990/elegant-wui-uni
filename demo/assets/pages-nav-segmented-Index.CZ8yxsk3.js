var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,i=(e,a)=>{for(var t in a||(a={}))s.call(a,t)&&n(e,t,a[t]);if(l)for(var t of l(a))o.call(a,t)&&n(e,t,a[t]);return e},u=(e,l)=>a(e,t(l));import{c as d,k as r,l as p,v as c,x as v,y as f,p as m,e as b,o as _,a as y,g as h,w as g,_ as w}from"./page-wraper.XTDu10FG.js";import{d as x,I as j,c as k,z as I,H as S,v as O,a as C,g as P,w as U,n as z,h as $,F as A,p as V,i as E,s as H,u as N,A as q,k as B,t as D,B as F,P as G,r as R,e as T,f as X,j as J}from"./index-7V_Oz7o2.js";import{_ as K}from"./demo-block.Dak0lv3M.js";import{_ as L}from"./wui-button.CpEmAov2.js";const M=u(i({},d),{value:c([String,Number]),disabled:r(!1),size:p("middle"),options:{type:Array,required:!0,default:()=>[]},vibrateShort:r(!1)}),Q=y(x(u(i({},{name:"wui-segmented",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"}}),{props:M,emits:["update:value","change","click"],setup(e,{expose:a,emit:t}){const l=e,s=t,o=j({activeIndex:0,activeStyle:""}),n=k((()=>l.disabled||!(!l.options[0]||!v(l.options[0]))&&l.options[0].disabled));I((()=>l.value),(()=>{d(),u(),l.vibrateShort&&G({})}),{immediate:!1});const{proxy:i}=S();function u(e=!0){m(".wui-segmented__item",!0,i).then((a=>{const t=a[o.activeIndex],l={position:"absolute",width:b(t.width),"z-index":0},s=a.slice(0,o.activeIndex).reduce(((e,a)=>e+Number(a.width)),0);s&&(l.transform=`translateX(${s}px)`),e&&(l.transition="all 0.2s cubic-bezier(0.645, 0.045, 0.355, 1)"),o.activeStyle=_(l)}))}function d(){const e=l.options.findIndex((e=>(v(e)?e.value:e)==l.value));if(e>=0)o.activeIndex=e;else{const e=v(l.options[0])?l.options[0].value:l.options[0];s("update:value",e),s("change",v(l.options[0])?l.options[0]:{value:e})}}return O((()=>{return e=this,a=null,t=function*(){d(),yield f(),u(!1)},new Promise(((l,s)=>{var o=e=>{try{i(t.next(e))}catch(a){s(a)}},n=e=>{try{i(t.throw(e))}catch(a){s(a)}},i=e=>e.done?l(e.value):Promise.resolve(e.value).then(o,n);i((t=t.apply(e,a)).next())}));var e,a,t})),a({updateActiveStyle:u}),(e,a)=>{const t=E;return P(),C(t,{class:H(`wui-segmented ${e.customClass}`),style:F(e.customStyle)},{default:U((()=>[(P(!0),z(A,null,V(e.options,((a,n)=>(P(),C(t,{class:H(`wui-segmented__item is-${e.size} ${o.activeIndex===n?"is-active":""} ${e.disabled||N(v)(a)&&a.disabled?"is-disabled":""}`),onClick:e=>function(e,a){if(l.disabled||v(e)&&e.disabled)return;const t=v(e)?e.value:e;o.activeIndex=a,u(),s("update:value",t),s("change",v(e)?e:{value:t}),s("click",v(e)?e:{value:t})}(a,n),key:n},{default:U((()=>[$(t,{class:"wui-segmented__item-label"},{default:U((()=>[e.$slots.label?q(e.$slots,"label",{key:0,option:N(v)(a)?a:{value:a}},void 0,!0):(P(),z(A,{key:1},[B(D(N(v)(a)?a.value:a),1)],64))])),_:2},1024)])),_:2},1032,["class","onClick"])))),128)),$(t,{class:H("wui-segmented__item--active "+(n.value?"is-disabled":"")),style:F(o.activeStyle)},null,8,["class","style"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-49461124"]]),W=y(x({__name:"Index",setup(e){const a=R(["评论","点赞","贡献","打赏"]),t=R([{value:"李雷",disabled:!1,payload:{avatar:"https://cdn.pixabay.com/photo/2023/03/13/23/48/woman-7851025_960_720.jpg"}},{value:"韩梅梅",disabled:!1,payload:{avatar:"https://cdn.pixabay.com/photo/2022/06/26/12/48/animal-7285346_960_720.jpg"}},{value:"林涛",disabled:!0,payload:{avatar:"https://cdn.pixabay.com/photo/2024/11/24/06/33/fireworks-9220290_960_720.jpg"}},{value:"Tom",disabled:!1,payload:{avatar:"https://cdn.pixabay.com/photo/2022/10/02/06/12/dent-blanche-7492786_960_720.jpg"}}]),l=R("简介"),s=R("详情"),o=R("评论"),n=R("打赏"),i=R("韩梅梅"),u=R("评论");function d(e){console.log(e)}const r=R("点赞"),p=R(),c=R(!1);function v(){c.value=!0}function f(){var e;null==(e=p.value)||e.updateActiveStyle()}return(e,m)=>{const b=T(X("wui-toast"),h),_=T(X("wui-segmented"),Q),y=E,x=T(X("demo-block"),K),j=J,k=T(X("wui-button"),L),I=T(X("wui-popup"),g),S=T(X("page-wraper"),w);return P(),C(y,null,{default:U((()=>[$(b),$(S,null,{default:U((()=>[$(x,{title:"大型分段器",transparent:""},{default:U((()=>[$(y,{class:"section"},{default:U((()=>[$(_,{options:a.value,value:l.value,"onUpdate:value":m[0]||(m[0]=e=>l.value=e),size:"large",onChange:d},null,8,["options","value"])])),_:1})])),_:1}),$(x,{title:"默认分段器",transparent:""},{default:U((()=>[$(y,{class:"section"},{default:U((()=>[$(_,{options:a.value,value:s.value,"onUpdate:value":m[1]||(m[1]=e=>s.value=e)},null,8,["options","value"])])),_:1})])),_:1}),$(x,{title:"小型分段器",transparent:""},{default:U((()=>[$(y,{class:"section"},{default:U((()=>[$(_,{options:a.value,value:o.value,"onUpdate:value":m[2]||(m[2]=e=>o.value=e),size:"small"},null,8,["options","value"])])),_:1})])),_:1}),$(x,{title:"带振动效果的分段器",transparent:""},{default:U((()=>[$(y,{class:"section"},{default:U((()=>[$(_,{options:a.value,value:n.value,"onUpdate:value":m[3]||(m[3]=e=>n.value=e),"vibrate-short":!0},null,8,["options","value"])])),_:1})])),_:1}),$(x,{title:"禁用分段器",transparent:""},{default:U((()=>[$(y,{class:"section"},{default:U((()=>[$(_,{options:a.value,value:u.value,"onUpdate:value":m[4]||(m[4]=e=>u.value=e),disabled:""},null,8,["options","value"])])),_:1})])),_:1}),$(x,{title:"自定义渲染分段器标签",transparent:""},{default:U((()=>[$(y,{class:"section"},{default:U((()=>[$(_,{options:t.value,value:i.value,"onUpdate:value":m[5]||(m[5]=e=>i.value=e),"vibrate-short":!0,onChange:d},{label:U((({option:e})=>[$(y,{class:"section-slot"},{default:U((()=>[$(j,{style:{"border-radius":"50%",width:"32px",height:"32px"},src:e.payload.avatar},null,8,["src"]),$(y,{class:"name"},{default:U((()=>[B(D(e.value),1)])),_:2},1024)])),_:2},1024)])),_:1},8,["options","value"])])),_:1})])),_:1}),$(x,{title:"在弹出框中使用",transparent:""},{default:U((()=>[$(y,{class:"section"},{default:U((()=>[$(k,{onClick:v},{default:U((()=>[B("打开弹窗")])),_:1})])),_:1})])),_:1}),$(I,{modelValue:c.value,"onUpdate:modelValue":m[7]||(m[7]=e=>c.value=e),position:"bottom",onAfterEnter:f,closable:"","custom-style":"height: 300px;padding: 0 24rpx;"},{default:U((()=>[$(y,{class:"title"},{default:U((()=>[B("在弹出框中使用")])),_:1}),$(_,{options:a.value,value:r.value,"onUpdate:value":m[6]||(m[6]=e=>r.value=e),onChange:d,ref_key:"segmentedRef",ref:p},null,8,["options","value"])])),_:1},8,["modelValue"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-4c392ee9"]]);export{W as default};
