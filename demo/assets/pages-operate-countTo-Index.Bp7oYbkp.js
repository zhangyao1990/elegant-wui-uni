var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,l=(e,t)=>{for(var a in t||(t={}))s.call(t,a)&&i(e,a,t[a]);if(r)for(var a of r(t))o.call(t,a)&&i(e,a,t[a]);return e},n=(e,r)=>t(e,a(r));import{d as u,c as f,z as c,v as p,a as d,g as m,w as x,A as y,h as V,s as b,i as w,r as j,e as v,f as z}from"./index-7V_Oz7o2.js";import{w as g}from"./wui-text.sHoBmPNz.js";import{c as _,l as S,k as h,m as k,a2 as O,ac as I,a as $,_ as P}from"./page-wraper.XTDu10FG.js";import{u as C}from"./useCountDown.BvABRZNm.js";import{_ as E}from"./demo-block.Dak0lv3M.js";import{_ as F,a as N}from"./wui-grid.PsOU0Zwf.js";import"./dayjs.BbAAWDNu.js";import"./useRaf.BhtPN-47.js";import"./wui-badge.Bbz0hbKN.js";import"./useChildren.CE-WdV6D.js";const A=n(l({},_),{fontSize:k(16),color:S(""),type:S("default"),startVal:k(0),endVal:k(2024),duration:k(3e3),autoStart:h(!0),decimals:{type:Number,required:!1,default:0,validator:e=>e>=0},decimal:S("."),separator:S(","),prefix:S(""),suffix:S(""),useEasing:h(!0),customStyle:S(""),customClass:S("")}),D=$(u(n(l({},{name:"wui-count-to",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:A,emits:["mounted","finish"],setup(e,{expose:t,emit:a}){const r=e,s=a,{start:o,pause:i,reset:l,current:n}=C({time:r.duration,millisecond:!0,onFinish:()=>s("finish")}),u=f((()=>`wui-count-to ${r.customClass}`)),j=f((()=>function(e){const{startVal:t,endVal:a,duration:s,useEasing:o}=r,i=s-e,l=t>a,n=i/s;let u;u=o?l?t-I(i,0,t-a,s)||0:I(i,t,a-t,s):l?t-(t-a)*n:t+(a-t)*n;return u=l?Math.max(a,u):Math.min(a,u),function(e){if("number"!=typeof e&&(e=parseFloat(e),isNaN(e)))return"0";const t=(e=e.toFixed(r.decimals)).split(".");let a=t[0];const s=t.length>1?r.decimal+t[1]:"",o=/(\d+)(\d{3})/;if(r.separator&&!O(r.separator))for(;o.test(a);)a=a.replace(o,"$1"+r.separator+"$2");return a+s}(u)}(n.value.total)));function v(){l(r.duration),r.autoStart&&o()}return c([()=>r.startVal,()=>r.endVal,()=>r.duration],v,{immediate:!1}),p((()=>{v(),s("mounted")})),t({start:o,reset:v,pause:i}),(e,t)=>{const a=w;return m(),d(a,{class:b(u.value)},{default:x((()=>[y(e.$slots,"prefix",{},(()=>[V(g,{type:r.type,color:r.color,size:.7*r.fontSize+"px",text:r.prefix},null,8,["type","color","size","text"])]),!0),y(e.$slots,"default",{},(()=>[V(g,{type:r.type,color:r.color,size:`${r.fontSize}px`,text:j.value},null,8,["type","color","size","text"])]),!0),y(e.$slots,"suffix",{},(()=>[V(g,{type:r.type,color:r.color,size:.7*r.fontSize+"px",text:r.suffix},null,8,["type","color","size","text"])]),!0)])),_:3},8,["class"])}}})),[["__scopeId","data-v-0a0807cd"]]),M=u({__name:"Index",setup(e){const t=j(2024),a=j(),r=()=>{a.value.start()},s=()=>{a.value.pause()},o=()=>{a.value.reset()};return(e,i)=>{const l=v(z("wui-count-to"),D),n=v(z("demo-block"),E),u=v(z("wui-grid-item"),F),f=v(z("wui-grid"),N),c=v(z("page-wraper"),P);return m(),d(c,null,{default:x((()=>[V(n,{title:"基本用法"},{default:x((()=>[V(l,{endVal:t.value,suffix:"年",color:"#16baaa"},null,8,["endVal"]),V(l,{prefix:"￥",decimals:2,endVal:186.321,fontSize:32,suffix:"%",color:"#1e9fff"}),V(l,{prefix:"￥",decimals:2,endVal:21286.321,fontSize:32,suffix:"%",color:"#ff5722"}),V(l,{prefix:"￥",decimals:2,endVal:21286.321,fontSize:32,suffix:"%",color:"#ffb800",duration:2e3})])),_:1}),V(n,{title:"设置主题"},{default:x((()=>[V(l,{type:"primary",prefix:"￥",startVal:0,endVal:888888,suffix:"%"}),V(l,{type:"error",prefix:"￥",startVal:0,endVal:888888,suffix:"%"}),V(l,{type:"success",prefix:"￥",startVal:0,endVal:888888,suffix:"%"}),V(l,{type:"warning",prefix:"￥",startVal:0,endVal:888888,suffix:"%"}),V(l,{prefix:"￥",startVal:0,endVal:888888,suffix:"%"})])),_:1}),V(n,{title:"手动控制"},{default:x((()=>[V(l,{ref_key:"countTo",ref:a,"auto-start":!1,prefix:"￥",startVal:1e3,decimals:3,endVal:9999.32,fontSize:32,suffix:"%",color:"#1e9fff"},null,512),V(f,{clickable:"",border:""},{default:x((()=>[V(u,{text:"开始",icon:"play-circle-stroke",onItemclick:r}),V(u,{text:"暂停",icon:"pause-circle",onItemclick:s}),V(u,{text:"重置",icon:"refresh",onItemclick:o})])),_:1})])),_:1})])),_:1})}}});export{M as default};
