var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(t,l,a)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[l]=a,n=(e,t)=>{for(var l in t||(t={}))o.call(t,l)&&i(e,l,t[l]);if(a)for(var l of a(t))s.call(t,l)&&i(e,l,t[l]);return e},u=(e,a)=>t(e,l(a));import{k as r,t as d,l as c,K as y,b as p,a as v,c as k,m,w as x,f as b,_ as f,g as w,h as _}from"./page-wraper.DMME2CXH.js";import{d as h,r as g,c as C,e as I,f as D,a as O,g as K,i as T,s as U,w as j,h as z,x as S,n as V,F as A,k as P,t as B,a8 as $,z as M,B as G,A as E,D as H,p as L}from"./index-CnRAlpd-.js";import{_ as F}from"./wui-cell-group.Doe8cqfe.js";import{_ as X}from"./demo-block.BWMqEgaZ.js";import{u as J}from"./useTouch.BqiP_qH2.js";import"./useChildren.B4reFkwq.js";const N={type:c(""),text:d(""),wider:r(!1),large:r(!1),loading:r(!1)},Q=v(h(u(n({},{name:"wui-key",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:N,emits:["press"],setup(e,{emit:t}){const l=e,a=t,o=J(),s=g(!1),i=C((()=>`wui-key ${l.large?"wui-key--large":""} ${"delete"===l.type?"wui-key--delete":""} ${"close"===l.type?"wui-key--close":""}`));function n(e){o.touchStart(e),s.value=!0}function u(e){o.touchMove(e),o.direction.value&&(s.value=!1)}function r(){s.value&&(s.value=!1,a("press",l.text,l.type))}return(e,t)=>{const a=I(D("wui-loading"),y),o=I(D("wui-icon"),p),s=T;return K(),O(s,{class:U("wui-key-wrapper "+(e.wider?"wui-key-wrapper--wider":"")),onTouchstart:n,onTouchmove:u,onTouchend:r},{default:j((()=>[z(s,{class:U(i.value)},{default:j((()=>[l.loading?(K(),O(a,{key:0,"custom-class":"wui-key__loading-icon"})):S("",!0),"delete"===e.type?(K(),V(A,{key:1},[e.text?(K(),V(A,{key:0},[P(B(e.text),1)],64)):(K(),O(o,{key:1,"custom-class":"wui-key__icon",name:"keyboard-delete",size:"22px"}))],64)):"extra"===e.type?(K(),V(A,{key:2},[e.text?(K(),V(A,{key:0},[P(B(e.text),1)],64)):(K(),O(o,{key:1,"custom-class":"wui-key__icon",name:"keyboard-collapse",size:"22px"}))],64)):(K(),V(A,{key:3},[P(B(e.text),1)],64))])),_:1},8,["class"])])),_:1},8,["class"])}}})),[["__scopeId","data-v-9589cc7f"]]),R=u(n({},k),{visible:r(!1),modelValue:c(""),title:String,mode:c("default"),zIndex:m(100),maxlength:m(1/0),showDeleteKey:r(!0),randomKeyOrder:r(!1),closeText:String,deleteText:String,closeButtonLoading:r(!1),modal:r(!1),hideOnClickOutside:r(!0),lockScroll:r(!0),safeAreaInsetBottom:r(!0),extraKey:[String,Array]}),W=["京","沪","粤","津","冀","豫","云","辽","黑","湘","皖","鲁","苏","浙","赣","鄂","桂","甘","晋","陕","蒙","吉","闽","贵","渝","川","青","琼","宁","挂","藏","港","澳","新","使","学"],Y=[1,2,3,4,5,6,7,8,9,0,"Q","W","E","R","T","Y","U","P","A","S","D","F","G","H","J","K","L","Z","X","C","V","B","N","M"],Z=v(h(u(n({},{name:"wui-keyboard",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:R,emits:["update:visible","input","close","delete","update:modelValue"],setup(e,{emit:t}){const l=e,a=t,o=$(),s=g(l.visible);M((()=>l.visible),(e=>{s.value=e}));const i=g("zh"),n=C((()=>"car"!==l.mode?"custom"===l.mode?function(){const e=c(),t=Array.isArray(l.extraKey)?l.extraKey:[l.extraKey];1===t.length?e.push({text:0,wider:!0},{text:t[0],type:"extra"}):2===t.length&&e.push({text:t[0],type:"extra"},{text:0},{text:t[1],type:"extra"});return e}():[...c(),{text:l.extraKey,type:"extra"},{text:0},{text:l.showDeleteKey?l.deleteText:"",type:l.showDeleteKey?"delete":""}]:function(){const[e,t]=function(){const e="zh"===i.value?W.map((e=>({text:e}))):Y.map((e=>({text:e})));return[e.slice(0,30),e.slice(30)]}();return[...e,{text:"zh"===i.value?"ABC":"返回",type:"extra",wider:!0},...t,{text:l.deleteText,type:"delete",wider:!0}]}())),u=C((()=>l.closeText&&("default"===l.mode||"car"===l.mode))),r=C((()=>!!l.title||!!o.title)),d=C((()=>r.value||u.value));function c(){const e=Array.from({length:9},((e,t)=>({text:t+1})));return l.randomKeyOrder?function(e){const t=[...e];for(let l=t.length-1;l>0;l--){const e=Math.floor(Math.random()*(l+1));[t[l],t[e]]=[t[e],t[l]]}return t}(e):e}const y=()=>{a("close"),a("update:visible",!1)},p=(e,t)=>{if("extra"===t){if(""===e)return y();if("ABC"===e||"返回"===e)return void(i.value="zh"===i.value?"en":"zh")}const o=l.modelValue;"delete"===t?(a("delete"),a("update:modelValue",o.slice(0,o.length-1))):"close"===t?y():o.length<+l.maxlength&&(a("input",e),a("update:modelValue",o+e))};return(e,t)=>{const l=H,a=T;return K(),O(x,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),position:"bottom","z-index":e.zIndex,"safe-area-inset-bottom":e.safeAreaInsetBottom,"modal-style":e.modal?"":"opacity: 0;",modal:e.hideOnClickOutside,lockScroll:e.lockScroll,onClickModal:y},{default:j((()=>[z(a,{class:U(`wui-keyboard ${e.customClass}`),style:G(e.customStyle)},{default:j((()=>[d.value?(K(),O(a,{key:0,class:"wui-keyboard__header"},{default:j((()=>[r.value?E(e.$slots,"title",{key:0},(()=>[z(l,{class:"wui-keyboard__title"},{default:j((()=>[P(B(e.title),1)])),_:1})]),!0):S("",!0),u.value?(K(),O(a,{key:1,class:"wui-keyboard__close","hover-class":"wui-keyboard__close--hover",onClick:y},{default:j((()=>[z(l,null,{default:j((()=>[P(B(e.closeText),1)])),_:1})])),_:1})):S("",!0)])),_:3})):S("",!0),"car"!==e.mode?(K(),O(a,{key:1,class:"wui-keyboard__body"},{default:j((()=>[z(a,{class:"wui-keyboard__keys"},{default:j((()=>[(K(!0),V(A,null,L(n.value,(e=>(K(),O(Q,{key:e.text,text:e.text,type:e.type,wider:e.wider,onPress:p},null,8,["text","type","wider"])))),128))])),_:1}),"custom"===e.mode?(K(),O(a,{key:0,class:"wui-keyboard__sidebar"},{default:j((()=>[e.showDeleteKey?(K(),O(Q,{key:0,large:"",text:e.deleteText,type:"delete",onPress:p},null,8,["text"])):S("",!0),z(Q,{large:"",text:e.closeText,type:"close",loading:e.closeButtonLoading,onPress:p},null,8,["text","loading"])])),_:1})):S("",!0)])),_:1})):S("",!0),"car"===e.mode?(K(),O(a,{key:2,class:"wui-keyboard-car__body"},{default:j((()=>[z(a,{class:"wui-keyboard-car__keys"},{default:j((()=>[(K(!0),V(A,null,L(n.value,(e=>(K(),O(Q,{key:e.text,text:e.text,type:e.type,wider:e.wider,onPress:p},null,8,["text","type","wider"])))),128))])),_:1})])),_:1})):S("",!0)])),_:3},8,["class","style"])])),_:3},8,["modelValue","z-index","safe-area-inset-bottom","modal-style","modal","lockScroll"])}}})),[["__scopeId","data-v-f13656cc"]]),q=h({__name:"Index",setup(e){const{show:t}=b(),l=g(!1),a=g(!1),o=g(!1),s=g(!1),i=g(!1),n=g(!1),u=g(!1),r=g(!1),d=g(!1),c=g(!1),y=[l,a,o,s,i,n,u,r,d,c],p=g("");function v(e){y.forEach(((t,l)=>t.value=l===e-1))}const k=e=>t(`${e}`),m=()=>t("删除");return(e,t)=>{const y=I(D("wui-toast"),w),x=I(D("wui-cell"),_),b=I(D("wui-cell-group"),F),h=I(D("demo-block"),X),g=I(D("wui-keyboard"),Z),C=H,O=I(D("page-wraper"),f);return K(),V(A,null,[z(y),z(O,null,{default:j((()=>[z(h,{title:"基本用法",transparent:""},{default:j((()=>[z(b,{border:""},{default:j((()=>[z(x,{title:"默认键盘","is-link":"",onClick:t[0]||(t[0]=e=>v(1))}),z(x,{title:"带右侧栏的键盘","is-link":"",onClick:t[1]||(t[1]=e=>v(2))}),z(x,{title:"身份证键盘","is-link":"",onClick:t[2]||(t[2]=e=>v(3))}),z(x,{title:"带标题的键盘","is-link":"",onClick:t[3]||(t[3]=e=>v(4))}),z(x,{title:"slot自定义标题","is-link":"",onClick:t[4]||(t[4]=e=>v(9))}),z(x,{title:"多个额外按键","is-link":"",onClick:t[5]||(t[5]=e=>v(5))}),z(x,{title:"随机数字键盘","is-link":"",onClick:t[6]||(t[6]=e=>v(6))}),z(x,{title:"车牌号键盘","is-link":"",onClick:t[7]||(t[7]=e=>v(10))}),z(x,{title:"双向绑定",clickable:"",value:p.value,onClick:t[8]||(t[8]=e=>v(7))},null,8,["value"]),z(x,{title:"展示蒙层",clickable:"",onClick:t[9]||(t[9]=e=>v(8))})])),_:1})])),_:1}),z(g,{visible:l.value,"onUpdate:visible":t[10]||(t[10]=e=>l.value=e),onInput:k,onDelete:m},null,8,["visible"]),z(g,{visible:a.value,"onUpdate:visible":t[11]||(t[11]=e=>a.value=e),mode:"custom","extra-key":".","close-text":"完成",onInput:k,onDelete:m},null,8,["visible"]),z(g,{visible:o.value,"onUpdate:visible":t[12]||(t[12]=e=>o.value=e),"extra-key":"X","close-text":"完成",onInput:k,onDelete:m},null,8,["visible"]),z(g,{visible:s.value,"onUpdate:visible":t[13]||(t[13]=e=>s.value=e),title:"输入密码","extra-key":".","close-text":"完成",onInput:k,onDelete:m},null,8,["visible"]),z(g,{visible:d.value,"onUpdate:visible":t[14]||(t[14]=e=>d.value=e),"extra-key":".","close-text":"完成",onInput:k,onDelete:m},{title:j((()=>[z(C,{style:{color:"red"}},{default:j((()=>[P("自定义标题")])),_:1})])),_:1},8,["visible"]),z(g,{visible:i.value,"onUpdate:visible":t[15]||(t[15]=e=>i.value=e),mode:"custom","extra-key":["00","."],"close-text":"完成",onInput:k,onDelete:m},null,8,["visible","extra-key"]),z(g,{visible:n.value,"onUpdate:visible":t[16]||(t[16]=e=>n.value=e),"random-key-order":"",onInput:k,onDelete:m},null,8,["visible"]),z(g,{modelValue:p.value,"onUpdate:modelValue":t[17]||(t[17]=e=>p.value=e),maxlength:6,visible:u.value,"onUpdate:visible":t[18]||(t[18]=e=>u.value=e),title:"键盘标题","extra-key":".","close-text":"完成",onInput:k,onDelete:m},null,8,["modelValue","visible"]),z(g,{modal:!0,visible:r.value,"onUpdate:visible":t[19]||(t[19]=e=>r.value=e),onInput:k,onDelete:m},null,8,["visible"]),z(g,{visible:c.value,"onUpdate:visible":t[20]||(t[20]=e=>c.value=e),mode:"car",onInput:k,onDelete:m},null,8,["visible"])])),_:1})],64)}}});export{q as default};
