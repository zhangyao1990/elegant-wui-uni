var t=Object.defineProperty,a=Object.defineProperties,e=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,u=(a,e,s)=>e in a?t(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s,o=(t,a)=>{for(var e in a||(a={}))i.call(a,e)&&u(t,e,a[e]);if(s)for(var e of s(a))l.call(a,e)&&u(t,e,a[e]);return t},r=(t,s)=>a(t,e(s)),p=(t,a,e)=>new Promise(((s,i)=>{var l=t=>{try{o(e.next(t))}catch(a){i(a)}},u=t=>{try{o(e.throw(t))}catch(a){i(a)}},o=t=>t.done?s(t.value):Promise.resolve(t.value).then(l,u);o((e=e.apply(t,a)).next())}));import{d as f,H as n,r as m,z as h,a as c,g as d,w,h as g,i as v,n as b,F as y,p as _,A as P,O as E,aw as G,e as J,f as O}from"./index-7V_Oz7o2.js";import{c as j,v as x,E as $,p as I,Q as z,a as S}from"./page-wraper.XTDu10FG.js";import{_ as T}from"./wui-img.DHFbjJSa.js";const k=r(o({},j),{data:x(Array),mode:{type:String,values:["normal","calc"],default:"normal"}}),A=S(f(r(o({},{name:"wui-waterfall",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"}}),{props:k,setup(t,{expose:a}){const e=t,{proxy:s}=n(),i=`wui-${$()}`,l=m([]),u=m([]);let o=0,r=0;const f=()=>p(this,null,(function*(){try{i&&setTimeout((()=>p(this,null,(function*(){const t=yield I(`#${i}-left`,!1,s,!0),a=yield I(`#${i}-right`,!1,s,!0);o=t.height||o,r=a.height||r}))),100)}catch(t){}}));let G=[];const J=t=>p(this,null,(function*(){if(t&&t.length)if("calc"===e.mode)yield f(),o<=r?l.value.push(t.shift()):u.value.push(t.shift()),E((()=>{setTimeout((()=>{J(t)}),200)}));else if("normal"===e.mode){let a=!0;yield f(),l.value.length>u.value.length&&(a=!1);let e=!1;o<r&&(e=!0),t.forEach(((t,s)=>{s%2==0&&a||e?l.value.push(t):u.value.push(t),a||(a=!0),e&&s>=2&&(e=!1)}))}}));return h((()=>e.data),(t=>{if(!t)return;if(G.length===t.length)return;const a=z(t.slice(G.length));a.length||(l.value=[],u.value=[],o=0,r=0),E((()=>{G=t,J(a)}))}),{immediate:!0}),a({reset:()=>{e.data&&(l.value=[],u.value=[],o=0,r=0,E((()=>{G=e.data,J(e.data)})))}}),(t,a)=>{const e=v;return d(),c(e,{class:"wui-water-fall"},{default:w((()=>[g(e,{id:`${i}-left`,class:"left wui-water-fall__container"},{default:w((()=>[(d(!0),b(y,null,_(l.value,((a,s)=>(d(),c(e,{key:s,class:"wui-water-fall__item"},{default:w((()=>[P(t.$slots,"left",{item:a,index:s},void 0,!0)])),_:2},1024)))),128))])),_:3},8,["id"]),g(e,{id:`${i}-right`,class:"right wui-water-fall__container"},{default:w((()=>[(d(!0),b(y,null,_(u.value,((a,s)=>(d(),c(e,{key:s,class:"wui-water-fall__item"},{default:w((()=>[P(t.$slots,"right",{item:a,index:s},void 0,!0)])),_:2},1024)))),128))])),_:3},8,["id"])])),_:3})}}})),[["__scopeId","data-v-113bbefb"]]),D=()=>{const t=["https://gips3.baidu.com/it/u=1821127123,1149655687&fm=3028&app=3028&f=JPEG&fmt=auto?w=720&h=1280","https://gips0.baidu.com/it/u=1490237218,4115737545&fm=3028&app=3028&f=JPEG&fmt=auto?w=1280&h=720","https://gips1.baidu.com/it/u=1647344915,1746921568&fm=3028&app=3028&f=JPEG&fmt=auto?w=720&h=1280","https://gips3.baidu.com/it/u=453716532,1843928978&fm=3028&app=3028&f=JPEG&fmt=auto?w=960&h=1280","https://gips1.baidu.com/it/u=2205169440,1005663887&fm=3028&app=3028&f=JPEG&fmt=auto?w=1024&h=1024","https://gips1.baidu.com/it/u=1239311027,2819893885&fm=3028&app=3028&f=JPEG&fmt=auto?w=1024&h=1024","https://gips2.baidu.com/it/u=4231193786,3187314859&fm=3028&app=3028&f=JPEG&fmt=auto?w=1024&h=1024","https://gips0.baidu.com/it/u=3602773692,1512483864&fm=3028&app=3028&f=JPEG&fmt=auto?w=960&h=1280","https://gips0.baidu.com/it/u=3560029307,576412274&fm=3028&app=3028&f=JPEG&fmt=auto?w=960&h=1280","https://gips3.baidu.com/it/u=1874299413,3253595329&fm=3028&app=3028&f=JPEG&fmt=auto?w=1920&h=2560"],a=m([]),e=()=>{const e=a.value.length,s=t.length,i=[];for(let a=0;a<20;a++)i.push({id:e+a+1,url:t[Math.floor(Math.random()*s)]});a.value=a.value.concat(i)};return e(),G((()=>{setTimeout((()=>{e()}),200)})),{imageData:a}},F=S(f({__name:"water-fall-item",props:{url:String},setup:t=>(a,e)=>{const s=J(O("wui-img"),T),i=v;return d(),c(i,{class:"water-fall-item"},{default:w((()=>[g(s,{width:"100%",height:"100%",lazyLoad:"",src:t.url,mode:"widthFix"},null,8,["src"])])),_:1})}}),[["__scopeId","data-v-39aae1bc"]]);export{F as W,A as _,D as u};
