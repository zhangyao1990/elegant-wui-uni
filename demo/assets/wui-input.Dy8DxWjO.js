var e=Object.defineProperty,l=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,t=(l,a,s)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[a]=s,i=(e,l)=>{for(var a in l||(l={}))o.call(l,a)&&t(e,a,l[a]);if(s)for(var a of s(l))r.call(l,a)&&t(e,a,l[a]);return e},n=(e,s)=>l(e,a(s)),u=(e,l,a)=>new Promise(((s,o)=>{var r=e=>{try{i(a.next(e))}catch(l){o(l)}},t=e=>{try{i(a.throw(e))}catch(l){o(l)}},i=e=>e.done?s(e.value):Promise.resolve(e.value).then(r,t);i((a=a.apply(e,l)).next())}));import{d as c,a8 as d,r as p,z as f,c as m,a as y,g as h,i as v,B as g,s as b,w as _,x as w,h as x,A as k,n as S,k as $,t as C,F as I,a6 as P,D as j}from"./index-CnRAlpd-.js";import{l as O,k as V,J as E,t as W,m as T,c as q,N as B,d as z,O as L,n as A,o as H,P as K,b as M,y as D,a as F}from"./page-wraper.DMME2CXH.js";import{u as N}from"./useTranslate.DCsJG8gA.js";const R=n(i({},q),{customInputClass:O(""),customLabelClass:O(""),placeholder:String,placeholderStyle:String,placeholderClass:O(""),cursorSpacing:T(0),cursor:T(-1),selectionStart:T(-1),selectionEnd:T(-1),adjustPosition:V(!0),holdKeyboard:V(!1),confirmType:O("done"),confirmHold:V(!1),focus:V(!1),type:O("text"),maxlength:{type:Number,default:-1},disabled:V(!1),alwaysEmbed:V(!1),alignRight:V(!1),modelValue:W(""),showPassword:V(!1),clearable:V(!1),readonly:V(!1),prefixIcon:String,suffixIcon:String,showWordLimit:V(!1),label:String,labelWidth:O(""),size:String,error:V(!1),center:V(!1),noBorder:V(!1),required:V(!1),prop:String,rules:E(),clearTrigger:O("always"),focusWhenClear:V(!0),ignoreCompositionEvent:V(!0),inputmode:O("text")}),G=F(c(n(i({},{name:"wui-input",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:R,emits:["update:modelValue","clear","blur","focus","input","keyboardheightchange","confirm","clicksuffixicon","clickprefixicon","click"],setup(e,{emit:l}){const a=e,s=l,o=d(),{translate:r}=N("input"),t=p(!1),i=p(!1),n=p(!1),c=p(!1),O=p(function(){const e=function(e){const{maxlength:l}=a;if(A(l)&&-1!==l&&String(e).length>l)return e.toString().slice(0,l);return e}(a.modelValue);l=e,o=a.modelValue,K(String(l),String(o))||s("update:modelValue",e);var l,o;return e}()),V=B();f((()=>a.focus),(e=>{n.value=e}),{immediate:!0,deep:!0}),f((()=>a.modelValue),(e=>{O.value=A(e)?String(e):""}));const{parent:E}=z(L),W=m((()=>A(a.placeholder)?a.placeholder:r("placeholder"))),T=m((()=>{const{disabled:e,readonly:l,clearable:s,clearTrigger:o}=a;return!(!s||l||e||!O.value||!("always"===o||"focus"===a.clearTrigger&&c.value))})),q=m((()=>{const{disabled:e,readonly:l,maxlength:s,showWordLimit:o}=a;return Boolean(!e&&!l&&A(s)&&s>-1&&o)})),F=m((()=>E&&a.prop&&E.errorMessages&&E.errorMessages[a.prop]?E.errorMessages[a.prop]:"")),R=m((()=>{let e=!1;if(E&&E.props.rules){const l=E.props.rules;for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&s===a.prop&&Array.isArray(l[s])&&(e=l[s].some((e=>e.required)))}return a.required||a.rules.some((e=>e.required))||e})),G=m((()=>`wui-input  ${a.label||o.label?"is-cell":""} ${a.center?"is-center":""} ${V.border.value?"is-border":""} ${a.size?"is-"+a.size:""} ${a.error?"is-error":""} ${a.disabled?"is-disabled":""}  ${O.value&&String(O.value).length>0?"is-not-empty":""}  ${a.noBorder?"is-no-border":""} ${a.customClass}`)),J=m((()=>`wui-input__label ${a.customLabelClass} ${R.value?"is-required":""}`)),U=m((()=>`wui-input__placeholder  ${a.placeholderClass}`)),Q=m((()=>a.labelWidth?H({"min-width":a.labelWidth,"max-width":a.labelWidth}):""));function X(){t.value=!t.value}function Y(){return u(this,null,(function*(){c.value=!1,O.value="",a.focusWhenClear&&(i.value=!0,n.value=!1),yield D(),a.focusWhenClear&&(n.value=!0,c.value=!0),s("update:modelValue",O.value),s("clear")}))}function Z(){return u(this,null,(function*(){yield D(150),i.value?i.value=!1:(c.value=!1,s("blur",{value:O.value}))}))}function ee({detail:e}){c.value=!0,s("focus",e)}function le({detail:e}){s("update:modelValue",O.value),s("input",e)}function ae({detail:e}){s("keyboardheightchange",e)}function se({detail:e}){s("confirm",e)}function oe(){s("clicksuffixicon")}function re(){s("clickprefixicon")}function te(e){s("click",e)}return(e,l)=>{const s=v,o=P,r=j;return h(),y(s,{class:b(G.value),style:g(e.customStyle),onClick:te},{default:_((()=>[e.label||e.$slots.label?(h(),y(s,{key:0,class:b(J.value),style:g(Q.value)},{default:_((()=>[e.prefixIcon||e.$slots.prefix?(h(),y(s,{key:0,class:"wui-input__prefix"},{default:_((()=>[e.prefixIcon&&!e.$slots.prefix?(h(),y(M,{key:0,"custom-class":"wui-input__icon",name:e.prefixIcon,onClick:re},null,8,["name"])):k(e.$slots,"prefix",{key:1},void 0,!0)])),_:3})):w("",!0),x(s,{class:"wui-input__label-inner"},{default:_((()=>[e.label&&!e.$slots.label?(h(),S(I,{key:0},[$(C(e.label),1)],64)):k(e.$slots,"label",{key:1},void 0,!0)])),_:3})])),_:3},8,["class","style"])):w("",!0),x(s,{class:"wui-input__body"},{default:_((()=>[x(s,{class:"wui-input__value"},{default:_((()=>[!e.prefixIcon&&!e.$slots.prefix||e.label?w("",!0):(h(),y(s,{key:0,class:"wui-input__prefix"},{default:_((()=>[e.prefixIcon&&!e.$slots.prefix?(h(),y(M,{key:0,"custom-class":"wui-input__icon",name:e.prefixIcon,onClick:re},null,8,["name"])):k(e.$slots,"prefix",{key:1},void 0,!0)])),_:3})),x(o,{class:b(["wui-input__inner",e.prefixIcon?"wui-input__inner--prefix":"",q.value?"wui-input__inner--count":"",e.alignRight?"is-align-right":"",e.customInputClass]),type:e.type,password:e.showPassword&&!t.value,modelValue:O.value,"onUpdate:modelValue":l[0]||(l[0]=e=>O.value=e),placeholder:W.value,disabled:e.disabled||e.readonly,maxlength:e.maxlength,focus:n.value,"confirm-type":e.confirmType,"confirm-hold":e.confirmHold,cursor:e.cursor,"cursor-spacing":e.cursorSpacing,"placeholder-style":e.placeholderStyle,"selection-start":e.selectionStart,"selection-end":e.selectionEnd,"adjust-position":e.adjustPosition,"hold-keyboard":e.holdKeyboard,"always-embed":e.alwaysEmbed,"placeholder-class":U.value,ignoreCompositionEvent:e.ignoreCompositionEvent,inputmode:e.inputmode,onInput:le,onFocus:ee,onBlur:Z,onConfirm:se,onKeyboardheightchange:ae},null,8,["class","type","password","modelValue","placeholder","disabled","maxlength","focus","confirm-type","confirm-hold","cursor","cursor-spacing","placeholder-style","selection-start","selection-end","adjust-position","hold-keyboard","always-embed","placeholder-class","ignoreCompositionEvent","inputmode"]),a.readonly?(h(),y(s,{key:1,class:"wui-input__readonly-mask"})):w("",!0),T.value||e.showPassword||e.suffixIcon||q.value||e.$slots.suffix?(h(),y(s,{key:2,class:"wui-input__suffix"},{default:_((()=>[T.value?(h(),y(M,{key:0,"custom-class":"wui-input__clear",name:"error-fill",onClick:Y})):w("",!0),e.showPassword?(h(),y(M,{key:1,"custom-class":"wui-input__icon",name:t.value?"view":"eye-close",onClick:X},null,8,["name"])):w("",!0),q.value?(h(),y(s,{key:2,class:"wui-input__count"},{default:_((()=>[x(r,{class:b([O.value&&String(O.value).length>0?"wui-input__count-current":"",String(O.value).length>e.maxlength?"is-error":""])},{default:_((()=>[$(C(String(O.value).length),1)])),_:1},8,["class"]),$(" /"+C(e.maxlength),1)])),_:1})):w("",!0),e.suffixIcon&&!e.$slots.suffix?(h(),y(M,{key:3,"custom-class":"wui-input__icon",name:e.suffixIcon,onClick:oe},null,8,["name"])):k(e.$slots,"suffix",{key:4},void 0,!0)])),_:3})):w("",!0)])),_:3}),F.value?(h(),y(s,{key:0,class:"wui-input__error-message"},{default:_((()=>[$(C(F.value),1)])),_:1})):w("",!0)])),_:3})])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-79388964"]]);export{G as _};
