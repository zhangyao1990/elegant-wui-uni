var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,u=(e,t)=>{for(var a in t||(t={}))s.call(t,a)&&r(e,a,t[a]);if(l)for(var a of l(t))o.call(t,a)&&r(e,a,t[a]);return e},n=(e,l)=>t(e,a(l));import{d as i,r as d,c,a as y,g as p,i as m,s as x,w as b,h as k,x as w,n as f,F as _,k as v,t as h,a8 as g,z as O,B as K,A as S,D as T,p as j}from"./index-CnRAlpd-.js";import{k as I,t as P,l as V,K as z,b as A,a as C,c as D,m as $,w as B}from"./page-wraper.DMME2CXH.js";import{u as M}from"./useTouch.BqiP_qH2.js";const G={type:V(""),text:P(""),wider:I(!1),large:I(!1),loading:I(!1)},H=C(i(n(u({},{name:"wui-key",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:G,emits:["press"],setup(e,{emit:t}){const a=e,l=t,s=M(),o=d(!1),r=c((()=>`wui-key ${a.large?"wui-key--large":""} ${"delete"===a.type?"wui-key--delete":""} ${"close"===a.type?"wui-key--close":""}`));function u(e){s.touchStart(e),o.value=!0}function n(e){s.touchMove(e),s.direction.value&&(o.value=!1)}function i(){o.value&&(o.value=!1,l("press",a.text,a.type))}return(e,t)=>{const l=m;return p(),y(l,{class:x("wui-key-wrapper "+(e.wider?"wui-key-wrapper--wider":"")),onTouchstart:u,onTouchmove:n,onTouchend:i},{default:b((()=>[k(l,{class:x(r.value)},{default:b((()=>[a.loading?(p(),y(z,{key:0,"custom-class":"wui-key__loading-icon"})):w("",!0),"delete"===e.type?(p(),f(_,{key:1},[e.text?(p(),f(_,{key:0},[v(h(e.text),1)],64)):(p(),y(A,{key:1,"custom-class":"wui-key__icon",name:"keyboard-delete",size:"22px"}))],64)):"extra"===e.type?(p(),f(_,{key:2},[e.text?(p(),f(_,{key:0},[v(h(e.text),1)],64)):(p(),y(A,{key:1,"custom-class":"wui-key__icon",name:"keyboard-collapse",size:"22px"}))],64)):(p(),f(_,{key:3},[v(h(e.text),1)],64))])),_:1},8,["class"])])),_:1},8,["class"])}}})),[["__scopeId","data-v-5411b696"]]),L=n(u({},D),{visible:I(!1),modelValue:V(""),title:String,mode:V("default"),zIndex:$(100),maxlength:$(1/0),showDeleteKey:I(!0),randomKeyOrder:I(!1),closeText:String,deleteText:String,closeButtonLoading:I(!1),modal:I(!1),hideOnClickOutside:I(!0),lockScroll:I(!0),safeAreaInsetBottom:I(!0),extraKey:[String,Array]}),E=C(i(n(u({},{name:"wui-number-keyboard",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),{props:L,emits:["update:visible","input","close","delete","update:modelValue"],setup(e,{emit:t}){const a=e,l=t,s=g(),o=d(a.visible);O((()=>a.visible),(e=>{o.value=e}));const r=c((()=>"custom"===a.mode?function(){const e=I(),t=Array.isArray(a.extraKey)?a.extraKey:[a.extraKey];1===t.length?e.push({text:0,wider:!0},{text:t[0],type:"extra"}):2===t.length&&e.push({text:t[0],type:"extra"},{text:0},{text:t[1],type:"extra"});return e}():[...I(),{text:a.extraKey,type:"extra"},{text:0},{text:a.showDeleteKey?a.deleteText:"",type:a.showDeleteKey?"delete":""}])),u=c((()=>a.closeText&&"default"===a.mode)),n=c((()=>!!a.title||!!s.title)),i=c((()=>n.value||u.value));function I(){const e=Array.from({length:9},((e,t)=>({text:t+1})));return a.randomKeyOrder?function(e){const t=[...e];for(let a=t.length-1;a>0;a--){const e=Math.floor(Math.random()*(a+1));[t[a],t[e]]=[t[e],t[a]]}return t}(e):e}const P=()=>{l("close"),l("update:visible",!1)},V=(e,t)=>{if(""===e&&"extra"===t)return P();const s=a.modelValue;"delete"===t?(l("delete"),l("update:modelValue",s.slice(0,s.length-1))):"close"===t?P():s.length<+a.maxlength&&(l("input",e),l("update:modelValue",s+e))};return(e,t)=>{const a=T,l=m;return p(),y(B,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),position:"bottom","z-index":e.zIndex,"safe-area-inset-bottom":e.safeAreaInsetBottom,"modal-style":e.modal?"":"opacity: 0;",modal:e.hideOnClickOutside,lockScroll:e.lockScroll,onClickModal:P},{default:b((()=>[k(l,{class:x(`wui-number-keyboard ${e.customClass}`),style:K(e.customStyle)},{default:b((()=>[i.value?(p(),y(l,{key:0,class:"wui-number-keyboard__header"},{default:b((()=>[n.value?S(e.$slots,"title",{key:0},(()=>[k(a,{class:"wui-number-keyboard__title"},{default:b((()=>[v(h(e.title),1)])),_:1})]),!0):w("",!0),u.value?(p(),y(l,{key:1,class:"wui-number-keyboard__close","hover-class":"wui-number-keyboard__close--hover",onClick:P},{default:b((()=>[k(a,null,{default:b((()=>[v(h(e.closeText),1)])),_:1})])),_:1})):w("",!0)])),_:3})):w("",!0),k(l,{class:"wui-number-keyboard__body"},{default:b((()=>[k(l,{class:"wui-number-keyboard__keys"},{default:b((()=>[(p(!0),f(_,null,j(r.value,(e=>(p(),y(H,{key:e.text,text:e.text,type:e.type,wider:e.wider,onPress:V},null,8,["text","type","wider"])))),128))])),_:1}),"custom"===e.mode?(p(),y(l,{key:0,class:"wui-number-keyboard__sidebar"},{default:b((()=>[e.showDeleteKey?(p(),y(H,{key:0,large:"",text:e.deleteText,type:"delete",onPress:V},null,8,["text"])):w("",!0),k(H,{large:"",text:e.closeText,type:"close",loading:e.closeButtonLoading,onPress:V},null,8,["text","loading"])])),_:1})):w("",!0)])),_:1})])),_:3},8,["class","style"])])),_:3},8,["modelValue","z-index","safe-area-inset-bottom","modal-style","modal","lockScroll"])}}})),[["__scopeId","data-v-b4da7730"]]);export{E as _};
